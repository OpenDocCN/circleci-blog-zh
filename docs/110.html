<html>
<head>
<title>Continuous deployment of a Dockerized .NET Core app to AWS ECR - CircleCI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>连续部署一个Dockerized。AWS ECR - CircleCI的NET Core应用程序</h1>
<blockquote>原文：<a href="https://circleci.com/blog/cd-for-dockerized-dotnet-core-to-aws-ecr/#2023-02-09T23:00:00-08:00">https://circleci.com/blog/cd-for-dockerized-dotnet-core-to-aws-ecr/#2023-02-09T23:00:00-08:00</a></blockquote><div><div class="post-content col-xs-12 col-md-10 col-lg-8">
        

        <blockquote>
  <p>本教程涵盖:</p>
  <ol>
    <li>为克隆的创建容器映像。Net核心演示应用程序，在本地构建和运行容器</li>
    <li>将Docker映像部署到AWS ECR</li>
    <li>使用CircleCI编写一个配置文件来自动构建和部署容器映像</li>
  </ol>
</blockquote>

<p>容器是部署应用程序的有用工具，因为它们允许将应用程序的代码、库和依赖项打包到一个独立的单元中。这使得在安装了必要的容器软件的任何计算机或服务器上部署和运行应用程序变得容易。</p>

<p><a href="https://aws.amazon.com/ecr/" target="_blank" rel="noreferrer noopener"> AWS弹性容器注册(ECR) </a>是一个托管容器注册服务，用于存储、管理和部署容器映像。它与其他AWS服务完全集成，并提供了一种可伸缩且安全的方法来管理您的容器映像。ECR允许您使用Docker CLI存储和检索图像，还可以与其他Docker工具集成，如Docker Compose和Docker Swarm。使用ECR，您可以在一个中心位置轻松存储和管理Docker图像，并从AWS帐户的任何位置访问它们。</p>

<p>在本教程中，您将使用Docker构建一个ASP.NET核心容器，并将容器映像推送到Amazon Elastic Container Registry(Amazon ECR)。当您完成项目时，由于对您的代码库所做的更改而构建的每个新容器映像都将被推送并存储在AWS容器注册表中。</p>

<h2>先决条件</h2>

<p>本教程需要以下内容:</p>



<blockquote><p>我们的教程是平台无关的，但是使用CircleCI作为例子。如果你没有CircleCI账号，请在 注册一个免费的<a href="https://circleci.com/signup/"> <strong>。</strong></a></p></blockquote>

<h2>克隆演示项目</h2>

<p>首先，从终端发出以下命令，使用Git从GitHub克隆演示项目:</p>

<pre><code class="language-bash">git clone https://github.com/CIRCLECI-GWP/docker-dotnet-api-ecr
</code></pre>

<p>这将把项目克隆到您的开发文件夹中的一个<code>docker-dotnet-api-ecr</code>文件夹中(或者当您从运行命令时)。</p>

<h2>在本地构建Docker映像</h2>

<p>为了为这个项目构建一个定制的Docker映像，您需要创建一个名为<code>Dockerfile</code>的特殊类型的文件。</p>

<p><code>Dockerfile</code>是一个文本文件，包含一组用于构建Docker映像的指令。它是一个简单而强大的工具，允许开发人员定义以一致和可靠的方式运行他们的应用程序所需的环境和依赖关系。</p>

<p>在本教程中，您将使用下载的演示项目中包含的Dockerfile来构建自定义容器映像。<code>Dockerfile</code>包含安装所有项目依赖项、构建项目并运行它所需的命令。</p>

<p>转到应用程序的根目录，打开<code>Dockerfile</code>，确保它有以下内容:</p>

<pre><code># Build Stage
FROM mcr.microsoft.com/dotnet/sdk:6.0 AS build
WORKDIR /app
COPY . ./
RUN dotnet restore
RUN dotnet publish -c Release -o output

# Serve Stage
FROM mcr.microsoft.com/dotnet/aspnet:6.0 AS runtime
WORKDIR /app
COPY --from=build /app/output .
ENTRYPOINT [ "dotnet", "docker-dotnet-api.dll" ]
</code></pre>

<p>该文件中指定了两个不同的阶段:</p>
<ul>
  <li><code>Build</code>采用<a href="https://hub.docker.com/_/microsoft-dotnet-sdk" target="_blank" rel="noreferrer noopener">。NET SDK </a>在构建项目并将其发布到名为<code>out</code>的文件夹之前安装任何所需的依赖项。</li>
  <li><code>Serve</code>使用<a href="https://hub.docker.com/_/microsoft-dotnet-aspnet" target="_blank" rel="noreferrer noopener">ASP.NET核心运行时映像</a>从指定的工作目录运行应用程序，在本例中是<code>app</code>。</li>
</ul>

<p>这有时被称为<a href="https://docs.docker.com/develop/develop-images/multistage-build/" target="_blank" rel="noreferrer noopener">多级Dockerfile </a>。它将开发和生产指令合并到一个Dockerfile文件中，降低了流程的复杂性。</p>

<p>接下来，发出以下命令来构建Docker映像:</p>

<pre><code class="language-bash">docker build -t dotnet-api:latest .
</code></pre>

<p>基于应用程序和Dockerfile文件的内容，这个命令将构建容器映像。您可以使用下面的命令打印出容器图像列表，确认图像是创建的:</p>

<pre><code class="language-bash">docker images
</code></pre>

<p>您将看到一个图像列表，包括<code>dotnet-api</code>。</p>

<pre><code class="language-bash">REPOSITORY          TAG       IMAGE ID       CREATED          SIZE
dotnet-api          latest    b7b390e1661b   43 seconds ago   215MB
</code></pre>

<h2>在本地运行Docker映像</h2>

<p>成功构建本地版本的容器映像后，使用以下命令运行它:</p>

<pre><code class="language-bash">docker run -dit -p 5001:80 dotnet-api:latest
</code></pre>

<p>该命令在后台运行容器，将容器ID打印到终端，并在端口<code>5001</code>上运行应用程序。请访问<code>http://localhost:5001/api/weather</code>查看。</p>

<p><img src="../Images/59d076cd31f889b2cbc7900458b4b8ed.png" alt="App running on Docker locally" class="zoomable" srcset="https://ctf-cci-com.imgix.net/4UuT010KjetXPKfKS7Uwe0/ab65bf8c6d5868b8e68754e7b3c2be33/2023-02-10-app-running-locally.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w,&#10;https://ctf-cci-com.imgix.net/4UuT010KjetXPKfKS7Uwe0/ab65bf8c6d5868b8e68754e7b3c2be33/2023-02-10-app-running-locally.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w,&#10;https://ctf-cci-com.imgix.net/4UuT010KjetXPKfKS7Uwe0/ab65bf8c6d5868b8e68754e7b3c2be33/2023-02-10-app-running-locally.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w,&#10;https://ctf-cci-com.imgix.net/4UuT010KjetXPKfKS7Uwe0/ab65bf8c6d5868b8e68754e7b3c2be33/2023-02-10-app-running-locally.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://ctf-cci-com.imgix.net/4UuT010KjetXPKfKS7Uwe0/ab65bf8c6d5868b8e68754e7b3c2be33/2023-02-10-app-running-locally.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://ctf-cci-com.imgix.net/4UuT010KjetXPKfKS7Uwe0/ab65bf8c6d5868b8e68754e7b3c2be33/2023-02-10-app-running-locally.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://ctf-cci-com.imgix.net/4UuT010KjetXPKfKS7Uwe0/ab65bf8c6d5868b8e68754e7b3c2be33/2023-02-10-app-running-locally.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://ctf-cci-com.imgix.net/4UuT010KjetXPKfKS7Uwe0/ab65bf8c6d5868b8e68754e7b3c2be33/2023-02-10-app-running-locally.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://ctf-cci-com.imgix.net/4UuT010KjetXPKfKS7Uwe0/ab65bf8c6d5868b8e68754e7b3c2be33/2023-02-10-app-running-locally.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://ctf-cci-com.imgix.net/4UuT010KjetXPKfKS7Uwe0/ab65bf8c6d5868b8e68754e7b3c2be33/2023-02-10-app-running-locally.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w,&#10;https://ctf-cci-com.imgix.net/4UuT010KjetXPKfKS7Uwe0/ab65bf8c6d5868b8e68754e7b3c2be33/2023-02-10-app-running-locally.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w,&#10;https://ctf-cci-com.imgix.net/4UuT010KjetXPKfKS7Uwe0/ab65bf8c6d5868b8e68754e7b3c2be33/2023-02-10-app-running-locally.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w,&#10;https://ctf-cci-com.imgix.net/4UuT010KjetXPKfKS7Uwe0/ab65bf8c6d5868b8e68754e7b3c2be33/2023-02-10-app-running-locally.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w,&#10;https://ctf-cci-com.imgix.net/4UuT010KjetXPKfKS7Uwe0/ab65bf8c6d5868b8e68754e7b3c2be33/2023-02-10-app-running-locally.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w,&#10;https://ctf-cci-com.imgix.net/4UuT010KjetXPKfKS7Uwe0/ab65bf8c6d5868b8e68754e7b3c2be33/2023-02-10-app-running-locally.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px,&#10;(min-width: 992px) 779px,&#10;(min-width: 768px) 720px,&#10;(min-width: 480px) 720px,&#10;(min-width: 0px) 449px" data-full-size-src="https://ctf-cci-com.imgix.net/4UuT010KjetXPKfKS7Uwe0/ab65bf8c6d5868b8e68754e7b3c2be33/2023-02-10-app-running-locally.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="https://images.ctfassets.net/il1yandlcjgk/4UuT010KjetXPKfKS7Uwe0/ab65bf8c6d5868b8e68754e7b3c2be33/2023-02-10-app-running-locally.png"/></p>

<h2>将Docker映像部署到Amazon ECR</h2>

<p>在本节中，您将创建一个用户，该用户可以通过编程将容器图像推送到Amazon registry。为此，导航到<a href="https://aws.amazon.com/console" target="_blank" rel="noreferrer noopener"> AWS管理控制台</a>并选择IAM。此服务允许您管理对AWS资源的访问。</p>

<p><img src="../Images/20b0be28f7dcdf0f8153750eb127f5e1.png" alt="AWS console" class="zoomable" srcset="https://ctf-cci-com.imgix.net/5F8cOxfCQDgqbwY8O3UPo6/2d6b1fceac02ae59bd7fb0849a36d291/2023-02-10-aws-console.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w,&#10;https://ctf-cci-com.imgix.net/5F8cOxfCQDgqbwY8O3UPo6/2d6b1fceac02ae59bd7fb0849a36d291/2023-02-10-aws-console.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w,&#10;https://ctf-cci-com.imgix.net/5F8cOxfCQDgqbwY8O3UPo6/2d6b1fceac02ae59bd7fb0849a36d291/2023-02-10-aws-console.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w,&#10;https://ctf-cci-com.imgix.net/5F8cOxfCQDgqbwY8O3UPo6/2d6b1fceac02ae59bd7fb0849a36d291/2023-02-10-aws-console.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://ctf-cci-com.imgix.net/5F8cOxfCQDgqbwY8O3UPo6/2d6b1fceac02ae59bd7fb0849a36d291/2023-02-10-aws-console.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://ctf-cci-com.imgix.net/5F8cOxfCQDgqbwY8O3UPo6/2d6b1fceac02ae59bd7fb0849a36d291/2023-02-10-aws-console.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://ctf-cci-com.imgix.net/5F8cOxfCQDgqbwY8O3UPo6/2d6b1fceac02ae59bd7fb0849a36d291/2023-02-10-aws-console.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://ctf-cci-com.imgix.net/5F8cOxfCQDgqbwY8O3UPo6/2d6b1fceac02ae59bd7fb0849a36d291/2023-02-10-aws-console.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://ctf-cci-com.imgix.net/5F8cOxfCQDgqbwY8O3UPo6/2d6b1fceac02ae59bd7fb0849a36d291/2023-02-10-aws-console.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://ctf-cci-com.imgix.net/5F8cOxfCQDgqbwY8O3UPo6/2d6b1fceac02ae59bd7fb0849a36d291/2023-02-10-aws-console.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w,&#10;https://ctf-cci-com.imgix.net/5F8cOxfCQDgqbwY8O3UPo6/2d6b1fceac02ae59bd7fb0849a36d291/2023-02-10-aws-console.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w,&#10;https://ctf-cci-com.imgix.net/5F8cOxfCQDgqbwY8O3UPo6/2d6b1fceac02ae59bd7fb0849a36d291/2023-02-10-aws-console.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w,&#10;https://ctf-cci-com.imgix.net/5F8cOxfCQDgqbwY8O3UPo6/2d6b1fceac02ae59bd7fb0849a36d291/2023-02-10-aws-console.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w,&#10;https://ctf-cci-com.imgix.net/5F8cOxfCQDgqbwY8O3UPo6/2d6b1fceac02ae59bd7fb0849a36d291/2023-02-10-aws-console.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w,&#10;https://ctf-cci-com.imgix.net/5F8cOxfCQDgqbwY8O3UPo6/2d6b1fceac02ae59bd7fb0849a36d291/2023-02-10-aws-console.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px,&#10;(min-width: 992px) 779px,&#10;(min-width: 768px) 720px,&#10;(min-width: 480px) 720px,&#10;(min-width: 0px) 449px" data-full-size-src="https://ctf-cci-com.imgix.net/5F8cOxfCQDgqbwY8O3UPo6/2d6b1fceac02ae59bd7fb0849a36d291/2023-02-10-aws-console.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="https://images.ctfassets.net/il1yandlcjgk/5F8cOxfCQDgqbwY8O3UPo6/2d6b1fceac02ae59bd7fb0849a36d291/2023-02-10-aws-console.png"/></p>

<p>创建具有唯一名称的用户。我把我的叫做<code>dotnet-user</code>。确保您勾选了选项<strong>访问键-编程访问</strong>。</p>

<p><img src="../Images/8945cbe5a63a3fccb79018f9c5929b32.png" alt="Add user" srcset="https://ctf-cci-com.imgix.net/5EMCZ33OeWjP3niXOY7IXZ/42c16bc3e2bf50414ff9bb3ac87dc5db/2023-02-10-add-user.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w,&#10;https://ctf-cci-com.imgix.net/5EMCZ33OeWjP3niXOY7IXZ/42c16bc3e2bf50414ff9bb3ac87dc5db/2023-02-10-add-user.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w,&#10;https://ctf-cci-com.imgix.net/5EMCZ33OeWjP3niXOY7IXZ/42c16bc3e2bf50414ff9bb3ac87dc5db/2023-02-10-add-user.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w,&#10;https://ctf-cci-com.imgix.net/5EMCZ33OeWjP3niXOY7IXZ/42c16bc3e2bf50414ff9bb3ac87dc5db/2023-02-10-add-user.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://ctf-cci-com.imgix.net/5EMCZ33OeWjP3niXOY7IXZ/42c16bc3e2bf50414ff9bb3ac87dc5db/2023-02-10-add-user.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://ctf-cci-com.imgix.net/5EMCZ33OeWjP3niXOY7IXZ/42c16bc3e2bf50414ff9bb3ac87dc5db/2023-02-10-add-user.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://ctf-cci-com.imgix.net/5EMCZ33OeWjP3niXOY7IXZ/42c16bc3e2bf50414ff9bb3ac87dc5db/2023-02-10-add-user.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://ctf-cci-com.imgix.net/5EMCZ33OeWjP3niXOY7IXZ/42c16bc3e2bf50414ff9bb3ac87dc5db/2023-02-10-add-user.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://ctf-cci-com.imgix.net/5EMCZ33OeWjP3niXOY7IXZ/42c16bc3e2bf50414ff9bb3ac87dc5db/2023-02-10-add-user.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://ctf-cci-com.imgix.net/5EMCZ33OeWjP3niXOY7IXZ/42c16bc3e2bf50414ff9bb3ac87dc5db/2023-02-10-add-user.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w,&#10;https://ctf-cci-com.imgix.net/5EMCZ33OeWjP3niXOY7IXZ/42c16bc3e2bf50414ff9bb3ac87dc5db/2023-02-10-add-user.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w,&#10;https://ctf-cci-com.imgix.net/5EMCZ33OeWjP3niXOY7IXZ/42c16bc3e2bf50414ff9bb3ac87dc5db/2023-02-10-add-user.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w,&#10;https://ctf-cci-com.imgix.net/5EMCZ33OeWjP3niXOY7IXZ/42c16bc3e2bf50414ff9bb3ac87dc5db/2023-02-10-add-user.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w,&#10;https://ctf-cci-com.imgix.net/5EMCZ33OeWjP3niXOY7IXZ/42c16bc3e2bf50414ff9bb3ac87dc5db/2023-02-10-add-user.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w,&#10;https://ctf-cci-com.imgix.net/5EMCZ33OeWjP3niXOY7IXZ/42c16bc3e2bf50414ff9bb3ac87dc5db/2023-02-10-add-user.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px,&#10;(min-width: 992px) 779px,&#10;(min-width: 768px) 720px,&#10;(min-width: 480px) 720px,&#10;(min-width: 0px) 449px" data-full-size-src="https://ctf-cci-com.imgix.net/5EMCZ33OeWjP3niXOY7IXZ/42c16bc3e2bf50414ff9bb3ac87dc5db/2023-02-10-add-user.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="https://images.ctfassets.net/il1yandlcjgk/5EMCZ33OeWjP3niXOY7IXZ/42c16bc3e2bf50414ff9bb3ac87dc5db/2023-02-10-add-user.png"/></p>

<p>接下来，为用户设置权限。点击<strong>直接附加已有保单</strong>。搜索并选择这些策略:</p>

<ul>
  <li><code>AmazonEC2ContainerRegistryFullAccess</code>:该策略允许用户完全访问容器注册表及其API。</li>
  <li><code>AmazonEC2ContainerRegistryPowerUser</code>:授予用户读写存储库的管理权限。</li>
</ul>

<p><img src="../Images/02f85920c3896987920774dba3d630cc.png" alt="Set permissions" class="zoomable" srcset="https://ctf-cci-com.imgix.net/6QgidKUKxgpCByoEejBfPX/e8cd13e3ca6785ecff8bb933792fceda/2023-02-10-set-permissions.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w,&#10;https://ctf-cci-com.imgix.net/6QgidKUKxgpCByoEejBfPX/e8cd13e3ca6785ecff8bb933792fceda/2023-02-10-set-permissions.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w,&#10;https://ctf-cci-com.imgix.net/6QgidKUKxgpCByoEejBfPX/e8cd13e3ca6785ecff8bb933792fceda/2023-02-10-set-permissions.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w,&#10;https://ctf-cci-com.imgix.net/6QgidKUKxgpCByoEejBfPX/e8cd13e3ca6785ecff8bb933792fceda/2023-02-10-set-permissions.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://ctf-cci-com.imgix.net/6QgidKUKxgpCByoEejBfPX/e8cd13e3ca6785ecff8bb933792fceda/2023-02-10-set-permissions.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://ctf-cci-com.imgix.net/6QgidKUKxgpCByoEejBfPX/e8cd13e3ca6785ecff8bb933792fceda/2023-02-10-set-permissions.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://ctf-cci-com.imgix.net/6QgidKUKxgpCByoEejBfPX/e8cd13e3ca6785ecff8bb933792fceda/2023-02-10-set-permissions.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://ctf-cci-com.imgix.net/6QgidKUKxgpCByoEejBfPX/e8cd13e3ca6785ecff8bb933792fceda/2023-02-10-set-permissions.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://ctf-cci-com.imgix.net/6QgidKUKxgpCByoEejBfPX/e8cd13e3ca6785ecff8bb933792fceda/2023-02-10-set-permissions.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://ctf-cci-com.imgix.net/6QgidKUKxgpCByoEejBfPX/e8cd13e3ca6785ecff8bb933792fceda/2023-02-10-set-permissions.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w,&#10;https://ctf-cci-com.imgix.net/6QgidKUKxgpCByoEejBfPX/e8cd13e3ca6785ecff8bb933792fceda/2023-02-10-set-permissions.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w,&#10;https://ctf-cci-com.imgix.net/6QgidKUKxgpCByoEejBfPX/e8cd13e3ca6785ecff8bb933792fceda/2023-02-10-set-permissions.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w,&#10;https://ctf-cci-com.imgix.net/6QgidKUKxgpCByoEejBfPX/e8cd13e3ca6785ecff8bb933792fceda/2023-02-10-set-permissions.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w,&#10;https://ctf-cci-com.imgix.net/6QgidKUKxgpCByoEejBfPX/e8cd13e3ca6785ecff8bb933792fceda/2023-02-10-set-permissions.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w,&#10;https://ctf-cci-com.imgix.net/6QgidKUKxgpCByoEejBfPX/e8cd13e3ca6785ecff8bb933792fceda/2023-02-10-set-permissions.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px,&#10;(min-width: 992px) 779px,&#10;(min-width: 768px) 720px,&#10;(min-width: 480px) 720px,&#10;(min-width: 0px) 449px" data-full-size-src="https://ctf-cci-com.imgix.net/6QgidKUKxgpCByoEejBfPX/e8cd13e3ca6785ecff8bb933792fceda/2023-02-10-set-permissions.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="https://images.ctfassets.net/il1yandlcjgk/6QgidKUKxgpCByoEejBfPX/e8cd13e3ca6785ecff8bb933792fceda/2023-02-10-set-permissions.png"/></p>

<p>从这里，点击<strong>下一个</strong>两次，然后点击查看页面中的<strong>创建用户</strong>按钮。</p>

<p>您将看到一条成功消息以及您的用户凭据。该页面只显示一次，因此请记下<strong>访问密钥ID </strong>和<strong>秘密访问密钥</strong>。如果您愿意，可以下载包含相同凭据的. csv文件。</p>

<p><img src="../Images/e36188cfd9f805c0f245c80cc0136807.png" alt="Credentials created" class="zoomable" srcset="https://ctf-cci-com.imgix.net/5MikryLe9C29D1wHXWYm5n/4ce1221de97ef5837da8fe9fd29fae63/2023-02-10-credentials-created.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w,&#10;https://ctf-cci-com.imgix.net/5MikryLe9C29D1wHXWYm5n/4ce1221de97ef5837da8fe9fd29fae63/2023-02-10-credentials-created.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w,&#10;https://ctf-cci-com.imgix.net/5MikryLe9C29D1wHXWYm5n/4ce1221de97ef5837da8fe9fd29fae63/2023-02-10-credentials-created.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w,&#10;https://ctf-cci-com.imgix.net/5MikryLe9C29D1wHXWYm5n/4ce1221de97ef5837da8fe9fd29fae63/2023-02-10-credentials-created.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://ctf-cci-com.imgix.net/5MikryLe9C29D1wHXWYm5n/4ce1221de97ef5837da8fe9fd29fae63/2023-02-10-credentials-created.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://ctf-cci-com.imgix.net/5MikryLe9C29D1wHXWYm5n/4ce1221de97ef5837da8fe9fd29fae63/2023-02-10-credentials-created.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://ctf-cci-com.imgix.net/5MikryLe9C29D1wHXWYm5n/4ce1221de97ef5837da8fe9fd29fae63/2023-02-10-credentials-created.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://ctf-cci-com.imgix.net/5MikryLe9C29D1wHXWYm5n/4ce1221de97ef5837da8fe9fd29fae63/2023-02-10-credentials-created.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://ctf-cci-com.imgix.net/5MikryLe9C29D1wHXWYm5n/4ce1221de97ef5837da8fe9fd29fae63/2023-02-10-credentials-created.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://ctf-cci-com.imgix.net/5MikryLe9C29D1wHXWYm5n/4ce1221de97ef5837da8fe9fd29fae63/2023-02-10-credentials-created.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w,&#10;https://ctf-cci-com.imgix.net/5MikryLe9C29D1wHXWYm5n/4ce1221de97ef5837da8fe9fd29fae63/2023-02-10-credentials-created.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w,&#10;https://ctf-cci-com.imgix.net/5MikryLe9C29D1wHXWYm5n/4ce1221de97ef5837da8fe9fd29fae63/2023-02-10-credentials-created.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w,&#10;https://ctf-cci-com.imgix.net/5MikryLe9C29D1wHXWYm5n/4ce1221de97ef5837da8fe9fd29fae63/2023-02-10-credentials-created.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w,&#10;https://ctf-cci-com.imgix.net/5MikryLe9C29D1wHXWYm5n/4ce1221de97ef5837da8fe9fd29fae63/2023-02-10-credentials-created.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w,&#10;https://ctf-cci-com.imgix.net/5MikryLe9C29D1wHXWYm5n/4ce1221de97ef5837da8fe9fd29fae63/2023-02-10-credentials-created.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px,&#10;(min-width: 992px) 779px,&#10;(min-width: 768px) 720px,&#10;(min-width: 480px) 720px,&#10;(min-width: 0px) 449px" data-full-size-src="https://ctf-cci-com.imgix.net/5MikryLe9C29D1wHXWYm5n/4ce1221de97ef5837da8fe9fd29fae63/2023-02-10-credentials-created.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="https://images.ctfassets.net/il1yandlcjgk/5MikryLe9C29D1wHXWYm5n/4ce1221de97ef5837da8fe9fd29fae63/2023-02-10-credentials-created.png"/></p>

<h2>自动化容器映像部署</h2>

<p>接下来，您将使用CircleCI自动将Docker映像部署到Amazon ECR。要轻松做到这一点，您将利用专门用命令创建的圆形球体名称<a href="https://circleci.com/developer/orbs/orb/circleci/aws-ecr"> <strong> circleci/aws-ecr </strong> </a>来自动:</p>

<ol>
  <li>建立码头工人形象</li>
  <li>登录亚马逊容器注册中心</li>
  <li>创建一个Amazon ECR repo(如果不存在)</li>
  <li>将图片推送到亚马逊ECR</li>
</ol>

<p>下载的项目已经包含一个带有<code>config.yml</code>文件的<code>.circleci</code>文件夹。打开<code>config.yml</code>文件，确认里面有这个内容:</p>

<pre><code class="language-yml">version: 2.1
orbs:
  aws-ecr: circleci/aws-ecr@8.1.3
workflows:
  build_and_push_image:
    jobs:
      - aws-ecr/build-and-push-image:
          context: dev
          create-repo: true
          dockerfile: Dockerfile
          path: .
          repo: dotnet-ecr
          tag: "$CIRCLE_SHA1"
</code></pre>

<p>这个配置文件使用<a href="https://circleci.com/developer/orbs/orb/circleci/aws-ecr"> Amazon弹性容器注册中心</a> orb来构建和部署Docker映像。<code>dockerfile:</code>命令指定docker文件的路径。</p>

<p><code>repo</code>命令将ECR储存库指定为<code>dotnet-ecr</code>。如果<code>create-repo</code>标志声明它不存在，那么它将被创建。此外，要成功地将映像部署到Amazon ECR，您需要提供您的Amazon凭据。为此，你应该在CircleCI中使用<a href="https://circleci.com/docs/contexts/">上下文</a>。</p>

<h2>为Amazon ECR凭据添加上下文</h2>

<p>从您的<a href="https://app.circleci.com/"> CircleCI仪表板</a>，点击侧边栏中的链接，进入<strong>组织设置</strong>页面。</p>

<p>然后，选择<strong>上下文</strong>，点击<strong>创建上下文</strong>按钮，为您的上下文添加一个唯一的名称。上下文出现在安全设置为<code>All members</code>的列表中。这意味着组织中的任何人都可以在运行时访问该上下文。正如本教程的<code>.circleci/config.yml</code>配置中所指定的，上下文名称应该是<code>dev</code>。</p>

<p><img src="../Images/b7f1f73cd39f8a923fed297973acb656.png" alt="Create context" class="zoomable" srcset="https://ctf-cci-com.imgix.net/4cL7J7C2AOxsENEKrRpwvR/4141cf1f70ce02de1a41c69bc662ffc9/2023-02-10-create-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w,&#10;https://ctf-cci-com.imgix.net/4cL7J7C2AOxsENEKrRpwvR/4141cf1f70ce02de1a41c69bc662ffc9/2023-02-10-create-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w,&#10;https://ctf-cci-com.imgix.net/4cL7J7C2AOxsENEKrRpwvR/4141cf1f70ce02de1a41c69bc662ffc9/2023-02-10-create-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w,&#10;https://ctf-cci-com.imgix.net/4cL7J7C2AOxsENEKrRpwvR/4141cf1f70ce02de1a41c69bc662ffc9/2023-02-10-create-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://ctf-cci-com.imgix.net/4cL7J7C2AOxsENEKrRpwvR/4141cf1f70ce02de1a41c69bc662ffc9/2023-02-10-create-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://ctf-cci-com.imgix.net/4cL7J7C2AOxsENEKrRpwvR/4141cf1f70ce02de1a41c69bc662ffc9/2023-02-10-create-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://ctf-cci-com.imgix.net/4cL7J7C2AOxsENEKrRpwvR/4141cf1f70ce02de1a41c69bc662ffc9/2023-02-10-create-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://ctf-cci-com.imgix.net/4cL7J7C2AOxsENEKrRpwvR/4141cf1f70ce02de1a41c69bc662ffc9/2023-02-10-create-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://ctf-cci-com.imgix.net/4cL7J7C2AOxsENEKrRpwvR/4141cf1f70ce02de1a41c69bc662ffc9/2023-02-10-create-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://ctf-cci-com.imgix.net/4cL7J7C2AOxsENEKrRpwvR/4141cf1f70ce02de1a41c69bc662ffc9/2023-02-10-create-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w,&#10;https://ctf-cci-com.imgix.net/4cL7J7C2AOxsENEKrRpwvR/4141cf1f70ce02de1a41c69bc662ffc9/2023-02-10-create-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w,&#10;https://ctf-cci-com.imgix.net/4cL7J7C2AOxsENEKrRpwvR/4141cf1f70ce02de1a41c69bc662ffc9/2023-02-10-create-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w,&#10;https://ctf-cci-com.imgix.net/4cL7J7C2AOxsENEKrRpwvR/4141cf1f70ce02de1a41c69bc662ffc9/2023-02-10-create-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w,&#10;https://ctf-cci-com.imgix.net/4cL7J7C2AOxsENEKrRpwvR/4141cf1f70ce02de1a41c69bc662ffc9/2023-02-10-create-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w,&#10;https://ctf-cci-com.imgix.net/4cL7J7C2AOxsENEKrRpwvR/4141cf1f70ce02de1a41c69bc662ffc9/2023-02-10-create-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px,&#10;(min-width: 992px) 779px,&#10;(min-width: 768px) 720px,&#10;(min-width: 480px) 720px,&#10;(min-width: 0px) 449px" data-full-size-src="https://ctf-cci-com.imgix.net/4cL7J7C2AOxsENEKrRpwvR/4141cf1f70ce02de1a41c69bc662ffc9/2023-02-10-create-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="https://images.ctfassets.net/il1yandlcjgk/4cL7J7C2AOxsENEKrRpwvR/4141cf1f70ce02de1a41c69bc662ffc9/2023-02-10-create-context.png"/></p>

<p>接下来，选择<code>dev</code>上下文，点击<strong>添加环境变量</strong>，输入这些变量:</p>

<ul>
  <li><code>AWS_ACCESS_KEY_ID</code> -您之前创建的<code>dotnet-user</code> IAM角色的AWS访问键id。</li>
  <li><code>AWS_SECRET_ACCESS_KEY</code> -您之前创建的<code>dotnet-user</code> IAM角色的AWS密钥。</li>
  <li><code>AWS_ECR_REGISTRY_ID</code> -与ECR账户相关的12位AWS id。这也称为帐户ID。你可以从<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/console_account-alias.html#FindingYourAWSId" target="_blank" rel="noreferrer noopener"> AWS支持页面</a>找到这个。</li>
  <li><code>AWS_REGION</code> -您的ECR资源将位于的AWS区域。</li>
</ul>

<h2>将应用程序连接到CircleCI</h2>

<p>现在你可以<a href="https://docs.github.com/en/get-started/getting-started-with-git/managing-remote-repositories#changing-a-remote-repositorys-url" target="_blank" rel="noreferrer noopener">改变你的远程存储库URL </a>，如果你克隆了本教程的repo并且<a href="https://circleci.com/blog/pushing-a-project-to-github/">将你的项目推送到GitHub </a>。</p>

<p>登录您的CircleCI帐户。如果你注册了你的GitHub账户，你所有的库都可以在你项目的仪表盘上看到。找到<code>dotnet-ecr</code>项目，点击<strong>设置项目</strong>。</p>

<p><img src="../Images/d3fb1394cfdc96b2360812b27a3bf3bf.png" alt="Select project" class="zoomable" srcset="https://ctf-cci-com.imgix.net/19p39ylfMvOiUsUTBKVb3M/a39269a192adadd792f6b67ea66126e0/2023-02-10-select-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w,&#10;https://ctf-cci-com.imgix.net/19p39ylfMvOiUsUTBKVb3M/a39269a192adadd792f6b67ea66126e0/2023-02-10-select-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w,&#10;https://ctf-cci-com.imgix.net/19p39ylfMvOiUsUTBKVb3M/a39269a192adadd792f6b67ea66126e0/2023-02-10-select-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w,&#10;https://ctf-cci-com.imgix.net/19p39ylfMvOiUsUTBKVb3M/a39269a192adadd792f6b67ea66126e0/2023-02-10-select-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://ctf-cci-com.imgix.net/19p39ylfMvOiUsUTBKVb3M/a39269a192adadd792f6b67ea66126e0/2023-02-10-select-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://ctf-cci-com.imgix.net/19p39ylfMvOiUsUTBKVb3M/a39269a192adadd792f6b67ea66126e0/2023-02-10-select-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://ctf-cci-com.imgix.net/19p39ylfMvOiUsUTBKVb3M/a39269a192adadd792f6b67ea66126e0/2023-02-10-select-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://ctf-cci-com.imgix.net/19p39ylfMvOiUsUTBKVb3M/a39269a192adadd792f6b67ea66126e0/2023-02-10-select-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://ctf-cci-com.imgix.net/19p39ylfMvOiUsUTBKVb3M/a39269a192adadd792f6b67ea66126e0/2023-02-10-select-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://ctf-cci-com.imgix.net/19p39ylfMvOiUsUTBKVb3M/a39269a192adadd792f6b67ea66126e0/2023-02-10-select-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w,&#10;https://ctf-cci-com.imgix.net/19p39ylfMvOiUsUTBKVb3M/a39269a192adadd792f6b67ea66126e0/2023-02-10-select-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w,&#10;https://ctf-cci-com.imgix.net/19p39ylfMvOiUsUTBKVb3M/a39269a192adadd792f6b67ea66126e0/2023-02-10-select-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w,&#10;https://ctf-cci-com.imgix.net/19p39ylfMvOiUsUTBKVb3M/a39269a192adadd792f6b67ea66126e0/2023-02-10-select-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w,&#10;https://ctf-cci-com.imgix.net/19p39ylfMvOiUsUTBKVb3M/a39269a192adadd792f6b67ea66126e0/2023-02-10-select-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w,&#10;https://ctf-cci-com.imgix.net/19p39ylfMvOiUsUTBKVb3M/a39269a192adadd792f6b67ea66126e0/2023-02-10-select-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px,&#10;(min-width: 992px) 779px,&#10;(min-width: 768px) 720px,&#10;(min-width: 480px) 720px,&#10;(min-width: 0px) 449px" data-full-size-src="https://ctf-cci-com.imgix.net/19p39ylfMvOiUsUTBKVb3M/a39269a192adadd792f6b67ea66126e0/2023-02-10-select-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="https://images.ctfassets.net/il1yandlcjgk/19p39ylfMvOiUsUTBKVb3M/a39269a192adadd792f6b67ea66126e0/2023-02-10-select-project.png"/></p>

<p>在GitHub上输入您的代码所在的分支的名称，然后点击<strong>设置项目</strong>。</p>

<p><img src="../Images/be19a6aba2d1894f8769b1a6bba1a1cb.png" alt="Set up project" class="zoomable" srcset="https://ctf-cci-com.imgix.net/1FLLFaDNGJdlDRUOpLPMAQ/167fe9649de905e86de2dd288c75ef67/2023-02-10-set-up-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w,&#10;https://ctf-cci-com.imgix.net/1FLLFaDNGJdlDRUOpLPMAQ/167fe9649de905e86de2dd288c75ef67/2023-02-10-set-up-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w,&#10;https://ctf-cci-com.imgix.net/1FLLFaDNGJdlDRUOpLPMAQ/167fe9649de905e86de2dd288c75ef67/2023-02-10-set-up-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w,&#10;https://ctf-cci-com.imgix.net/1FLLFaDNGJdlDRUOpLPMAQ/167fe9649de905e86de2dd288c75ef67/2023-02-10-set-up-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://ctf-cci-com.imgix.net/1FLLFaDNGJdlDRUOpLPMAQ/167fe9649de905e86de2dd288c75ef67/2023-02-10-set-up-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://ctf-cci-com.imgix.net/1FLLFaDNGJdlDRUOpLPMAQ/167fe9649de905e86de2dd288c75ef67/2023-02-10-set-up-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://ctf-cci-com.imgix.net/1FLLFaDNGJdlDRUOpLPMAQ/167fe9649de905e86de2dd288c75ef67/2023-02-10-set-up-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://ctf-cci-com.imgix.net/1FLLFaDNGJdlDRUOpLPMAQ/167fe9649de905e86de2dd288c75ef67/2023-02-10-set-up-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://ctf-cci-com.imgix.net/1FLLFaDNGJdlDRUOpLPMAQ/167fe9649de905e86de2dd288c75ef67/2023-02-10-set-up-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://ctf-cci-com.imgix.net/1FLLFaDNGJdlDRUOpLPMAQ/167fe9649de905e86de2dd288c75ef67/2023-02-10-set-up-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w,&#10;https://ctf-cci-com.imgix.net/1FLLFaDNGJdlDRUOpLPMAQ/167fe9649de905e86de2dd288c75ef67/2023-02-10-set-up-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w,&#10;https://ctf-cci-com.imgix.net/1FLLFaDNGJdlDRUOpLPMAQ/167fe9649de905e86de2dd288c75ef67/2023-02-10-set-up-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w,&#10;https://ctf-cci-com.imgix.net/1FLLFaDNGJdlDRUOpLPMAQ/167fe9649de905e86de2dd288c75ef67/2023-02-10-set-up-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w,&#10;https://ctf-cci-com.imgix.net/1FLLFaDNGJdlDRUOpLPMAQ/167fe9649de905e86de2dd288c75ef67/2023-02-10-set-up-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w,&#10;https://ctf-cci-com.imgix.net/1FLLFaDNGJdlDRUOpLPMAQ/167fe9649de905e86de2dd288c75ef67/2023-02-10-set-up-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px,&#10;(min-width: 992px) 779px,&#10;(min-width: 768px) 720px,&#10;(min-width: 480px) 720px,&#10;(min-width: 0px) 449px" data-full-size-src="https://ctf-cci-com.imgix.net/1FLLFaDNGJdlDRUOpLPMAQ/167fe9649de905e86de2dd288c75ef67/2023-02-10-set-up-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="https://images.ctfassets.net/il1yandlcjgk/1FLLFaDNGJdlDRUOpLPMAQ/167fe9649de905e86de2dd288c75ef67/2023-02-10-set-up-project.png"/></p>

<p>您的第一个工作流将开始运行并成功完成。</p>

<p><img src="../Images/71d0d2fc9feac7bcd7dcc044c42d567c.png" alt="Pipeline build successful" srcset="https://ctf-cci-com.imgix.net/4wvrBfBPtLFwjikDntqN2V/8ac204f32c93e7d7cc4f939ed993d01c/2023-02-10-build-successful.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w,&#10;https://ctf-cci-com.imgix.net/4wvrBfBPtLFwjikDntqN2V/8ac204f32c93e7d7cc4f939ed993d01c/2023-02-10-build-successful.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w,&#10;https://ctf-cci-com.imgix.net/4wvrBfBPtLFwjikDntqN2V/8ac204f32c93e7d7cc4f939ed993d01c/2023-02-10-build-successful.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w,&#10;https://ctf-cci-com.imgix.net/4wvrBfBPtLFwjikDntqN2V/8ac204f32c93e7d7cc4f939ed993d01c/2023-02-10-build-successful.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://ctf-cci-com.imgix.net/4wvrBfBPtLFwjikDntqN2V/8ac204f32c93e7d7cc4f939ed993d01c/2023-02-10-build-successful.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://ctf-cci-com.imgix.net/4wvrBfBPtLFwjikDntqN2V/8ac204f32c93e7d7cc4f939ed993d01c/2023-02-10-build-successful.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://ctf-cci-com.imgix.net/4wvrBfBPtLFwjikDntqN2V/8ac204f32c93e7d7cc4f939ed993d01c/2023-02-10-build-successful.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://ctf-cci-com.imgix.net/4wvrBfBPtLFwjikDntqN2V/8ac204f32c93e7d7cc4f939ed993d01c/2023-02-10-build-successful.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://ctf-cci-com.imgix.net/4wvrBfBPtLFwjikDntqN2V/8ac204f32c93e7d7cc4f939ed993d01c/2023-02-10-build-successful.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://ctf-cci-com.imgix.net/4wvrBfBPtLFwjikDntqN2V/8ac204f32c93e7d7cc4f939ed993d01c/2023-02-10-build-successful.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w,&#10;https://ctf-cci-com.imgix.net/4wvrBfBPtLFwjikDntqN2V/8ac204f32c93e7d7cc4f939ed993d01c/2023-02-10-build-successful.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w,&#10;https://ctf-cci-com.imgix.net/4wvrBfBPtLFwjikDntqN2V/8ac204f32c93e7d7cc4f939ed993d01c/2023-02-10-build-successful.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w,&#10;https://ctf-cci-com.imgix.net/4wvrBfBPtLFwjikDntqN2V/8ac204f32c93e7d7cc4f939ed993d01c/2023-02-10-build-successful.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w,&#10;https://ctf-cci-com.imgix.net/4wvrBfBPtLFwjikDntqN2V/8ac204f32c93e7d7cc4f939ed993d01c/2023-02-10-build-successful.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w,&#10;https://ctf-cci-com.imgix.net/4wvrBfBPtLFwjikDntqN2V/8ac204f32c93e7d7cc4f939ed993d01c/2023-02-10-build-successful.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px,&#10;(min-width: 992px) 779px,&#10;(min-width: 768px) 720px,&#10;(min-width: 480px) 720px,&#10;(min-width: 0px) 449px" data-full-size-src="https://ctf-cci-com.imgix.net/4wvrBfBPtLFwjikDntqN2V/8ac204f32c93e7d7cc4f939ed993d01c/2023-02-10-build-successful.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="https://images.ctfassets.net/il1yandlcjgk/4wvrBfBPtLFwjikDntqN2V/8ac204f32c93e7d7cc4f939ed993d01c/2023-02-10-build-successful.png"/></p>

<p>要查看存储库信息，请转到您的<a href="https://console.aws.amazon.com/ecr/repositories" target="_blank" rel="noreferrer noopener"> AWS管理控制台</a>。</p>

<p><img src="../Images/269addeb24b693bcdc4a6e8c5db7a10c.png" alt="View image url" class="zoomable" srcset="https://ctf-cci-com.imgix.net/2dG2Tvz0UPXPSroQSf4Gsy/51d935bc920c13fd3c42f178c1229155/2023-02-10-view-image-url.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w,&#10;https://ctf-cci-com.imgix.net/2dG2Tvz0UPXPSroQSf4Gsy/51d935bc920c13fd3c42f178c1229155/2023-02-10-view-image-url.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w,&#10;https://ctf-cci-com.imgix.net/2dG2Tvz0UPXPSroQSf4Gsy/51d935bc920c13fd3c42f178c1229155/2023-02-10-view-image-url.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w,&#10;https://ctf-cci-com.imgix.net/2dG2Tvz0UPXPSroQSf4Gsy/51d935bc920c13fd3c42f178c1229155/2023-02-10-view-image-url.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://ctf-cci-com.imgix.net/2dG2Tvz0UPXPSroQSf4Gsy/51d935bc920c13fd3c42f178c1229155/2023-02-10-view-image-url.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://ctf-cci-com.imgix.net/2dG2Tvz0UPXPSroQSf4Gsy/51d935bc920c13fd3c42f178c1229155/2023-02-10-view-image-url.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://ctf-cci-com.imgix.net/2dG2Tvz0UPXPSroQSf4Gsy/51d935bc920c13fd3c42f178c1229155/2023-02-10-view-image-url.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://ctf-cci-com.imgix.net/2dG2Tvz0UPXPSroQSf4Gsy/51d935bc920c13fd3c42f178c1229155/2023-02-10-view-image-url.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://ctf-cci-com.imgix.net/2dG2Tvz0UPXPSroQSf4Gsy/51d935bc920c13fd3c42f178c1229155/2023-02-10-view-image-url.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://ctf-cci-com.imgix.net/2dG2Tvz0UPXPSroQSf4Gsy/51d935bc920c13fd3c42f178c1229155/2023-02-10-view-image-url.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w,&#10;https://ctf-cci-com.imgix.net/2dG2Tvz0UPXPSroQSf4Gsy/51d935bc920c13fd3c42f178c1229155/2023-02-10-view-image-url.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w,&#10;https://ctf-cci-com.imgix.net/2dG2Tvz0UPXPSroQSf4Gsy/51d935bc920c13fd3c42f178c1229155/2023-02-10-view-image-url.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w,&#10;https://ctf-cci-com.imgix.net/2dG2Tvz0UPXPSroQSf4Gsy/51d935bc920c13fd3c42f178c1229155/2023-02-10-view-image-url.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w,&#10;https://ctf-cci-com.imgix.net/2dG2Tvz0UPXPSroQSf4Gsy/51d935bc920c13fd3c42f178c1229155/2023-02-10-view-image-url.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w,&#10;https://ctf-cci-com.imgix.net/2dG2Tvz0UPXPSroQSf4Gsy/51d935bc920c13fd3c42f178c1229155/2023-02-10-view-image-url.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px,&#10;(min-width: 992px) 779px,&#10;(min-width: 768px) 720px,&#10;(min-width: 480px) 720px,&#10;(min-width: 0px) 449px" data-full-size-src="https://ctf-cci-com.imgix.net/2dG2Tvz0UPXPSroQSf4Gsy/51d935bc920c13fd3c42f178c1229155/2023-02-10-view-image-url.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="https://images.ctfassets.net/il1yandlcjgk/2dG2Tvz0UPXPSroQSf4Gsy/51d935bc920c13fd3c42f178c1229155/2023-02-10-view-image-url.png"/></p>

<h2>结论</h2>

<p>通过正确配置CircleCI部署，您可以轻松地对您的代码库进行更改，部署到GitHub，并确保您在Amazon container registry上的Docker映像将始终更新为新版本，而无需您进行任何手动操作。</p>

<p>我希望本教程对你有所帮助。编码快乐！</p>


        
          
          
            <hr/>
            <p>Oluyemi是一名拥有电信工程背景的技术爱好者。出于对解决用户日常遇到的问题的浓厚兴趣，他冒险进入编程领域，并从那时起将他的问题解决技能用于构建web和移动软件。Oluyemi是一名热衷于分享知识的全栈软件工程师，他在世界各地的几个博客上发表了大量技术文章和博客文章。作为技术专家，他的爱好包括尝试新的编程语言和框架。</p>

            <p><a href="/blog/author/olususi-oluyemi/" class="arrow-link">阅读更多Olususi Oluyemi的帖子</a></p>
          
        
      </div>
    </div>    
</body>
</html>