<html>
<head>
<title>Introducing the CircleCI visual config editor | CircleCI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>CircleCI可视化配置编辑器| CircleCI简介</h1>
<blockquote>原文：<a href="https://circleci.com/blog/visual-config-editor/#2022-08-18T05:00:00-07:00">https://circleci.com/blog/visual-config-editor/#2022-08-18T05:00:00-07:00</a></blockquote><div><div class="post-content col-xs-12 col-md-10 col-lg-8">
        

        <p>CircleCI <a href="https://circle.ci/visual-config-editor" target="_blank" rel="noreferrer noopener">可视化配置编辑器(VCE) </a>现在作为一个开源项目普遍可用。开发团队现在可以在可视化的拖放、低代码环境中创建和修改CircleCI配置文件。</p>

<p>VCE是一个节点图编辑器，可以用来修改CircleCI配置元素和生成配置文件。它提供了一种无摩擦的方式来构建<a href="https://circleci.com/blog/what-is-a-ci-cd-pipeline/"> CI/CD管道</a>，并以高效、用户友好的可视化界面与CircleCI的平台进行交互。</p>

<p>我们的目标不是取代作为代码语言的<a href="https://circleci.com/blog/what-is-yaml-a-beginner-s-guide/">YAML</a>，我们事实上的<a href="https://circleci.com/blog/configuration-as-code/">配置，而是提供一种替代方案，在其中你可以可视化地编排你的管道开发。在本帖中，我们将触及可视化配置编辑器背后的动机，浏览其元素和支持的功能，解释常见用例，并演示如何使用VCE建立管道。</a></p>

<h2>可视化配置编辑器的用例</h2>

<p>可视化配置编辑器为配置编辑提供了一体化的环境，包括创建组件定义和用法。视觉生态系统用YAML换取了低代码(或者，当使用正确的球体时，甚至没有代码！)开发经验。</p>

<p>CircleCI的新用户会发现可视化配置编辑器在以下方面很有用:</p>
<ul>
  <li>无需学习或编写YAML即可生成配置</li>
  <li>只需轻轻一点，即可访问<a href="https://circleci.com/orbs/"> CircleCI orbs </a>，快速集成流行服务</li>
  <li>可视化管理标签和分支过滤器</li>
  <li>实时验证输入</li>
  <li>简化配置构建体验，因此您可以满怀信心地协调您的管道</li>
</ul>

<p>更有经验的用户会发现可视化配置编辑器在以下方面很有用:</p>
<ul>
  <li>无需通过YAML即可快速更改</li>
  <li>预览工作流程编排</li>
  <li>提供一个可视化的解释器，用于在你的项目的CI管道上教育同行</li>
  <li>轻松访问orb的高级功能</li>
</ul>

<h2>可视化配置编辑器功能</h2>

<p>创建管道配置文件所需的一切都是预先提供的。VCE分为三个焦点窗格:<strong>可视化工具、检查器和输出</strong>。</p>

<p><img src="../Images/c8d1d36983082307ccd448ea13c494df.png" alt="VCE user interface" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-08-18-image8.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w,&#10;https://production-cci-com.imgix.net/blog/media/2022-08-18-image8.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w,&#10;https://production-cci-com.imgix.net/blog/media/2022-08-18-image8.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w,&#10;https://production-cci-com.imgix.net/blog/media/2022-08-18-image8.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://production-cci-com.imgix.net/blog/media/2022-08-18-image8.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://production-cci-com.imgix.net/blog/media/2022-08-18-image8.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://production-cci-com.imgix.net/blog/media/2022-08-18-image8.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://production-cci-com.imgix.net/blog/media/2022-08-18-image8.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://production-cci-com.imgix.net/blog/media/2022-08-18-image8.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://production-cci-com.imgix.net/blog/media/2022-08-18-image8.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w,&#10;https://production-cci-com.imgix.net/blog/media/2022-08-18-image8.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w,&#10;https://production-cci-com.imgix.net/blog/media/2022-08-18-image8.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w,&#10;https://production-cci-com.imgix.net/blog/media/2022-08-18-image8.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w,&#10;https://production-cci-com.imgix.net/blog/media/2022-08-18-image8.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w,&#10;https://production-cci-com.imgix.net/blog/media/2022-08-18-image8.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px,&#10;(min-width: 992px) 779px,&#10;(min-width: 768px) 720px,&#10;(min-width: 480px) 720px,&#10;(min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-08-18-image8.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="https://circleci.com/blog/media/2022-08-18-image8.png"/></p>

<p><strong>可视化窗格</strong>由一个节点图组成，其中<a href="https://circleci.com/docs/workflows/">工作流</a>被创建和组织。</p>

<p>组件内置在<strong>检查器面板</strong>中，在这里您可以创建、查看和编辑组成配置的组件。</p>

<p><strong>输出窗格</strong>是一个集成的代码编辑器，提供查看您的配置的YAML输出的能力。</p>

<h2>如何使用可视化配置编辑器设置管道</h2>

<p>让我们看看它的实际效果吧！在这一节中，我们将演示如何使用VCE来建立一个管道来测试和部署一个用<a href="https://vuejs.org/" target="_blank" rel="noreferrer noopener"> Vue.js </a>构建的示例前端应用程序。您可以派生出<a href="https://github.com/CircleCI-Public/sample-javascript-cfd" target="_blank" rel="noreferrer noopener">连续食品交付示例项目</a>并跟随，或者使用您自己的(最好是基于节点的)项目。</p>

<h3>入门指南</h3>

<p>为了跟随演示并学习如何使用VCE来管理自己的管道，你还需要注册一个<a href="https://circleci.com/signup/">免费的CircleCI账户</a>和<a href="https://signup.heroku.com/" target="_blank" rel="noreferrer noopener"> Heroku账户</a>，如果你还没有的话。登录Heroku后，进入<a href="https://dashboard.heroku.com/apps" target="_blank" rel="noreferrer noopener">仪表盘</a>，点击<strong>新建</strong>，然后选择<strong>创建新应用</strong>。请记下您在此处选择的应用程序名称，因为您稍后会用到它。目前，这是Heroku需要的所有设置。</p>

<p>要访问VCE并开始构建您的配置文件，请访问<a href="https://circle.ci/visual-config-editor" target="_blank" rel="noreferrer noopener"> VCE主页</a>。</p>

<h3>将测试作业添加到管道中</h3>

<p>好消息！我们实际上不需要做太多来让CI参与这个项目。VCE具有orb支持，提供对各种预打包配置的快速访问，以便与您喜欢的所有服务集成。要从VCE向您的管道添加orb，只需单击orb旁边的<strong>加</strong>按钮，并选择您想要使用的orb。</p>

<p>在这个例子中，我们将使用Node.js orb向我们的工作流添加测试。因为Node.js是我们最受欢迎的orb之一，所以它是菜单中第一个可用的orb。单击圆形图标查看管道中可用的作业、命令和执行器。要添加测试任务，将<code>node/test</code>任务拖到可视化窗格中。依赖项安装和缓存将为我们处理。然而，在连续食品交付应用程序的情况下，我们需要添加一些额外的属性来告诉节点测试作业我们想要运行哪个测试。</p>

<p>单击您刚刚放入工作流阶段的<code>node/test</code>作业，以配置其设置。样本库中的文件<a href="https://github.com/CircleCI-Public/sample-javascript-cfd/blob/master/package.json"> <code>package.json</code> </a>包含了我们需要的关于这个项目脚本的信息。</p>

<pre><code class="language-json">{
  "name": "sample-javascript-cfd",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "build": "vue-cli-service build",
    "test:unit": "vue-cli-service test:unit",
    "test:e2e": "vue-cli-service test:e2e",
    "lint": "vue-cli-service lint",
    "start": "vue-cli-service serve"
  }
</code></pre>

<p>在连续食品交付示例应用程序中，有两种不同类型的测试:端到端测试(<code>test:e2e</code>)和单元测试(<code>test:unit</code>)。对于我们的<code>node/test</code>工作，我们将把<code>run-command</code>参数设置为<code>test:unit</code>，因为e2e测试将需要进一步的配置。</p>

<p><img src="../Images/545db16fac777815bbb79ee7f354fee0.png" alt="Sample application tests" class="zoomable" data-original-src="https://circleci.com/blog/media/2022-08-18-image1.gif"/></p>

<h3>添加部署作业</h3>
<p>现在我们已经在管道中添加了测试，我们可以放心地部署到Heroku。是时候再次搜索球体并为认证的Heroku球体导入一个任务了。就像前面一样，导航到检查器面板的Orbs部分并点击<strong>导入</strong>。在搜索栏中输入<code>Heroku</code>来查找Heroku orb。</p>

<p>接下来，将<code>heroku/deploy-via-git</code>任务拖到可视化窗格中。要将测试作业标记为部署作业的需求，通过长按测试作业旁边的节点并将鼠标拖到部署作业上，绘制一个从<code>node/test</code>作业到<code>heroku/deploy-via-git</code>作业的连接。</p>

<p><img src="../Images/3ca93b62f5878d10f87c73b07e7f193f.png" alt="Add test to deploy job" class="zoomable" data-original-src="https://circleci.com/blog/media/2022-08-18-image5.gif"/></p>

<p>为了让Heroku部署我们的项目，需要使用您为Heroku项目选择的应用程序名称来配置部署作业。确保在作业属性的<code>app-name</code>字段中使用相同的名称。</p>

<p>当连接像Heroku这样的第三方服务时，通常需要一个API密钥。在我们开始项目之前，让我们记下将我们需要的键添加到<a href="https://circleci.com/docs/contexts">上下文</a>中。尽管还没有配置，我们将告诉Heroku作业使用<code>cfd-deploy</code>上下文。</p>

<p>还有一点:大多数开发团队不想在每次提交时都进行部署。为了确保部署作业仅在对存储库的主分支进行更改时运行，请将作业属性菜单中的分支参数设置为<code>main</code>。</p>

<p><img src="../Images/636eed1aff9ab9f636190663f1585e06.png" alt="Set branch to main" class="zoomable" data-original-src="https://circleci.com/blog/media/2022-08-18-image7.gif"/></p>

<p>使用过滤来控制作业何时在管道中运行还有许多更高级的方法。您可以使用屏幕左上方的预览工具箱来直观预览不同的过滤器如何影响您的工作流程。</p>

<p><img src="../Images/00c6b5cf64871753b2ed8c6255c87351.png" alt="VCE filtering" class="zoomable" data-original-src="https://circleci.com/blog/media/2022-08-18-image6.gif"/></p>

<p>下面是完成所有步骤后最终生成的配置。</p>

<pre><code class="language-yml"># This configuration has been automatically generated by the CircleCI Config SDK.
# For more information, see https://github.com/CircleCI-Public/circleci-config-sdk-ts
# SDK Version: 0.9.0-alpha.14
# VCE Version: v0.10.0
# Modeled with the CircleCI visual config editor.
# For more information, see https://github.com/CircleCI-Public/visual-config-editor

version: 2.1
setup: false
jobs: {}
workflows:
  build-and-deploy:
    jobs:
      - node/test:
          run-command: test:unit
          pkg-manager: yarn
      - heroku/deploy-via-git:
          context:
            - cfd-deploy
          requires:
            - node/test
          filters:
              branches:
                  only:
                    - main
          app-name: cfd-sample
orbs:
  node: circleci/node@5.0.2
  heroku: circleci/heroku@1.2.6
</code></pre>

<p>您也可以<a href="https://circleci-public.github.io/visual-config-editor/?example=blogpost" target="_blank" rel="noreferrer noopener">在VCE </a>中打开这个例子，查看生成的配置文件和工作流程图。</p>

<h3>验证您的管道构建绿色</h3>

<p>现在配置完成了！要在CircleCI管道中使用它，请将新生成的配置复制并粘贴到样例项目fork中预先存在的<code>config.yml</code>文件中。确保<a href="https://circleci.com/blog/pushing-a-project-to-github/">推动这些变化</a>。</p>

<p>最后，是时候去CircleCI了。在添加项目之前，您需要配置我们的上下文，以便安全地将Heroku凭证传递到您的作业。首先，在Heroku应用程序页面中生成一个新的Heroku令牌。然后，转到CircleCI web应用程序中的组织设置&gt;上下文。使用您之前选择的名称<code>cfd-deploy</code>创建一个上下文，并添加<code>HEROKU_API_KEY</code>环境变量。</p>

<p><img src="../Images/4095bf37852af75ad79f0c60e935a0ff.png" alt="Create contexts" class="zoomable" data-original-src="https://circleci.com/blog/media/2022-08-18-image3.gif"/></p>

<p>现在，该项目已准备好添加到CircleCI中。转到项目仪表板，单击示例项目的<strong>设置项目</strong>按钮。选择<strong>使用项目</strong>中现有的config.yml。输入总分行名称，点击<strong>继续</strong>。这将触发您设置的管道的构建。</p>

<p>如果一切按预期进行，您的管道将导致一个成功的构建，并且应用程序现在将在Heroku上可用。恭喜你！您已经使用可视化配置编辑器在CircleCI上创建了一个自动化测试和部署管道。</p>

<p><img src="../Images/1fbcbab9c2ac0f6e017cf9711cdabe8c.png" alt="Circle CI set up project" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-08-18-image4.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w,&#10;https://production-cci-com.imgix.net/blog/media/2022-08-18-image4.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w,&#10;https://production-cci-com.imgix.net/blog/media/2022-08-18-image4.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w,&#10;https://production-cci-com.imgix.net/blog/media/2022-08-18-image4.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://production-cci-com.imgix.net/blog/media/2022-08-18-image4.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://production-cci-com.imgix.net/blog/media/2022-08-18-image4.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://production-cci-com.imgix.net/blog/media/2022-08-18-image4.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://production-cci-com.imgix.net/blog/media/2022-08-18-image4.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://production-cci-com.imgix.net/blog/media/2022-08-18-image4.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://production-cci-com.imgix.net/blog/media/2022-08-18-image4.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w,&#10;https://production-cci-com.imgix.net/blog/media/2022-08-18-image4.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w,&#10;https://production-cci-com.imgix.net/blog/media/2022-08-18-image4.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w,&#10;https://production-cci-com.imgix.net/blog/media/2022-08-18-image4.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w,&#10;https://production-cci-com.imgix.net/blog/media/2022-08-18-image4.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w,&#10;https://production-cci-com.imgix.net/blog/media/2022-08-18-image4.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px,&#10;(min-width: 992px) 779px,&#10;(min-width: 768px) 720px,&#10;(min-width: 480px) 720px,&#10;(min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-08-18-image4.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="https://circleci.com/blog/media/2022-08-18-image4.png"/></p>

<h2>结论</h2>

<p>可视化配置编辑器为任何级别的CircleCI用户提供了编排和维护CI管道的替代方法。从构建您的第一个管道到新团队成员入职，再到促进复杂的配置审查，VCE让您可以访问CircleCI云平台的所有强大功能，而无需管理复杂的YAML带来的额外开销。</p>

<p>VCE项目是开源的，我们欢迎社区所有成员的贡献。要投稿，请访问GitHub 上的<a href="https://github.com/CircleCI-Public/visual-config-editor/blob/main/CONTRIBUTING.md" target="_blank" rel="noreferrer noopener">投稿指南或在我们的社区</a><a href="https://discuss.circleci.com/t/visual-config-editor-for-circleci-is-now-ga/45126" target="_blank" rel="noreferrer noopener">讨论</a>上评论该主题。我们还有一个社区<a href="https://circle.ci/discord" target="_blank" rel="noreferrer noopener">Discord</a>——来和我们在<code>#visual-config-editor</code>频道聊聊这个项目吧。</p>

<p>寻找更高级的配置即代码解决方案的用户可能也会对使VCE成为可能的底层技术感兴趣，即<a href="https://circleci.com/blog/config-sdk/"> CircleCI config SDK </a>。要了解关于config SDK以及如何使用它从本地JavaScript或TypeScript生成CircleCI配置文件的更多信息，请访问GitHub 上的<a href="https://github.com/CircleCI-Public/circleci-config-sdk-ts" target="_blank" rel="noreferrer noopener">开源配置SDK项目。</a></p>


        
          
          
        
          
          
        
      </div>
    </div>    
</body>
</html>