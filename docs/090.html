<html>
<head>
<title>CircleCI build image update schedule - CircleCI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>构建映像更新计划</h1>
<blockquote>原文：<a href="https://circleci.com/blog/build-image-update-schedule/#2018-09-19T09:00:00-07:00">https://circleci.com/blog/build-image-update-schedule/#2018-09-19T09:00:00-07:00</a></blockquote><div><div class="post-content col-xs-12 col-md-10 col-lg-8">
        

        <h3>TL；速度三角形定位法(dead reckoning)</h3>

<table>
  <thead>
    <tr>
      <th>图像类型</th>
      <th>时间范围</th>
      <th>更多信息</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Docker便利图片</td>
      <td>小于24小时(自动)</td>
      <td><a href="#docker-convenience-images">了解更多信息</a></td>
    </tr>
    <tr>
      <td>机器图像</td>
      <td>需要时(手动)</td>
      <td><a href="#machine-image">了解更多信息</a></td>
    </tr>
    <tr>
      <td>Xcode图像</td>
      <td>少于7天(手动)</td>
      <td><a href="#macos-image">了解更多信息</a></td>
    </tr>
  </tbody>
</table>

<p><br/></p>



<p><a name="docker-convenience-images" class="deep-link-anchor"/></p>
<h3>Docker便利图片</h3>

<p>CircleCI上的大多数作业都是由<code>docker</code>执行程序运行的。这使得Docker映像能够用于作业的执行环境。虽然可以使用Docker Hub、AWS的ECR或GCP的Container Registry上的任何Docker映像，但我们提供了一组映像，如<code>circleci/golang</code>，其中预装了在CI环境中有用的工具。利用Docker的分层能力，我们的图像基于Docker和Docker社区<a href="https://hub.docker.com/u/library/"> Docker Library </a>发布的上游图像。</p>

<h4>更新</h4>

<p>每当一个新的版本出现，例如最近的Go v1.11版本，Docker库社区就会更新这个映像。在这种情况下，它们更新了<code>golang</code>图像。这需要多长时间完全由他们决定。有时，图像会在几小时内更新。如果有阻塞GitHub的问题，可能需要一两天。无论如何，我们的<a href="https://circleci.com/blog/wide-world-of-workflows-how-we-build-our-docker-convenience-images/"> Docker便利图像构建系统</a>将根据需要，使用<a href="https://circleci.com/docs/workflows/#scheduling-a-workflow">预定工作流程</a>每24小时从上游重建新图像。因此，一旦上游图像通过Docker库可用，我们将在24小时内拥有我们的版本。</p>

<p>关于<a href="https://circleci.com/docs/circleci-images/">文档页面</a>的更多信息。</p>

<h4>测试版和发布候选版</h4>

<p>Docker提供了很大的灵活性。使用Docker库映像以及CircleCI映像的一个好处是，许多软件开发人员会为不稳定的版本发布标签。例如，在Go v1.11问世和<code>golang/circleci:1.11</code>图像可用之前，几个发布候选(RC)标签已经可用了相当长一段时间。像<code>circleci/golang:1.11rc</code>或<code>circleci/golang:1.11-r2</code>这样的标签在每个RCs之后都是可用的。这使您能够在发布日之前开始在即将到来的语言版本上测试您的软件。</p>

<p><a name="machine-image" class="deep-link-anchor"/></p>
<h3>机器图像</h3>

<p>当需要由<code>docker</code>执行器提供的低级访问时，通常使用<code>machine</code>执行器。它是一个虚拟机(VM)映像，而不是Docker/LXC映像。</p>

<p>由于其极其普通的用例，图像几乎不经常更新。它只安装了一些基本的构建模块工具。<code>machine</code>镜像安装了Docker和Docker Composed。这就是为什么这个映像会定期更新的主要原因:为了跟上Docker的步伐。</p>

<h4>更新</h4>

<p>没有设定更新此映像的时间表。它目前大约每月更新一次，但可能需要更长时间。提供此映像是为了让用户能够在虚拟机上安装他们需要的东西。可以在<a href="https://circleci.com/docs/configuration-reference/#machine">文档页面</a>上找到关于<code>machine</code>可用图像版本的信息。</p>

<p><a name="macos-image" class="deep-link-anchor"/></p>
<h3>macOS映像</h3>

<p>执行人是最简单的解释。我们基于Xcode版本发布，而不是处理基于月份的版本号，甚至macOS版本号。我们有基于Xcode版本的语义版本化(<a href="https://semver.org/"> SemVer </a>)的独立图像，比如<code>Xcode 9.4.1</code>图像。</p>

<h4>更新</h4>

<p>当有新的Xcode版本时，我们会发布新的图像。节奏主要取决于苹果。一旦某个版本的Xcode发布，我们通常会在七天内为它准备一个映像。这一时间框架受版本变化的影响很大(例如，bugfix版本花费的时间最少)，也受苹果发布更新的周末时间的影响。可用图像/支持的Xcode版本可在<a href="https://circleci.com/docs/testing-ios/#supported-xcode-versions">文档页面</a>上找到。</p>



        
          
          
        
      </div>
    </div>    
</body>
</html>