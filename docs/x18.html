<html>
<head>
<title>Top 5 CI/CD best practices | CircleCI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>5大CI/CD最佳实践| CircleCI</h1>
<blockquote>原文：<a href="https://circleci.com/blog/top-5-ci-cd-best-practices/#2022-04-29T16:00:00-07:00">https://circleci.com/blog/top-5-ci-cd-best-practices/#2022-04-29T16:00:00-07:00</a></blockquote><div><div class="post-content col-xs-12 col-md-10 col-lg-8">
        

        <h2>利用这些CI/CD最佳实践优化您的渠道</h2>

<p>对于工程团队来说，CI/CD是改善他们开发周期的关键。CircleCI致力于帮助我们的客户优化他们的管道，以简化生产交付。</p>

<p><a href="https://youtu.be/Is3U2a_TOF4" target="_blank" rel="noreferrer noopener">软件开发团队的顶级CI/CD策略</a></p>

<p><iframe src="https://www.youtube.com/embed/Is3U2a_TOF4" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="">视频</iframe></p>

<p>如果你的团队重视加快你的上市时间，承诺尝试这5个最佳实践。这些是CircleCI为减少你的开发周期时间和总体上改进你的CI/CD过程而提出的建议。</p>

<h3>CI/CD最佳实践</h3>
<ol>
  <li>CI/CD并不新奇——它是所有开发团队的需求</li>
  <li>充分利用开发人员宝贵的时间</li>
  <li>保护您的管道</li>
  <li>维护跨管道的测试覆盖率</li>
  <li>让受欢迎的球进入你的舵手室</li>
</ol>

<p><img src="../Images/692b05d58751f93c4431afc6a0378c6c.png" alt="CI/CD best practices" srcset="https://production-cci-com.imgix.net/blog/media/2022-03-25-ci-cd-best-practices.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w,&#10;https://production-cci-com.imgix.net/blog/media/2022-03-25-ci-cd-best-practices.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w,&#10;https://production-cci-com.imgix.net/blog/media/2022-03-25-ci-cd-best-practices.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w,&#10;https://production-cci-com.imgix.net/blog/media/2022-03-25-ci-cd-best-practices.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://production-cci-com.imgix.net/blog/media/2022-03-25-ci-cd-best-practices.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://production-cci-com.imgix.net/blog/media/2022-03-25-ci-cd-best-practices.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://production-cci-com.imgix.net/blog/media/2022-03-25-ci-cd-best-practices.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://production-cci-com.imgix.net/blog/media/2022-03-25-ci-cd-best-practices.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://production-cci-com.imgix.net/blog/media/2022-03-25-ci-cd-best-practices.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://production-cci-com.imgix.net/blog/media/2022-03-25-ci-cd-best-practices.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w,&#10;https://production-cci-com.imgix.net/blog/media/2022-03-25-ci-cd-best-practices.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w,&#10;https://production-cci-com.imgix.net/blog/media/2022-03-25-ci-cd-best-practices.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w,&#10;https://production-cci-com.imgix.net/blog/media/2022-03-25-ci-cd-best-practices.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w,&#10;https://production-cci-com.imgix.net/blog/media/2022-03-25-ci-cd-best-practices.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w,&#10;https://production-cci-com.imgix.net/blog/media/2022-03-25-ci-cd-best-practices.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px,&#10;(min-width: 992px) 779px,&#10;(min-width: 768px) 720px,&#10;(min-width: 480px) 720px,&#10;(min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-03-25-ci-cd-best-practices.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="https://circleci.com/blog/media/2022-03-25-ci-cd-best-practices.png"/></p>

<h2>CI/CD最佳实践1: CI/CD并不新奇——它是所有开发团队的需求</h2>
<p>组织发现他们的开发周期对于提高代码生产质量是多么重要。在我们的<a href="https://circleci.com/resources/2022-state-of-software-delivery/"> 2022年软件交付状态报告</a>中，我们看到一些组织脱颖而出:与行业中的其他组织相比，他们正在更快、更成功地进行规模化建设。通过我们的分析，我们发现这些表现最佳的团队在4个关键基准上都有所提高。</p>

<h2>CI/CD最佳实践2:充分利用开发人员宝贵的时间</h2>
<p>既然您已经知道如何使用度量基准来优化您的管道，我们的下一个建议是最好地利用宝贵的开发时间。您可以通过以下方式做到这一点:</p>
<ul>
  <li>重用配置</li>
  <li>使用缓存策略</li>
  <li>实现测试拆分</li>
</ul>

<h3>重用配置</h3>
<p>一个很好的优化方法是永远不要写两次相同的配置。使用CircleCI的<a href="https://circleci.com/orbs/"> orbs </a>，YAML配置的可重复使用的软件包，它自动化重复的过程并加速项目设置。</p>

<p>私有orb允许您在组织的范围内跨多个项目共享配置。</p>

<p>还有许多开源orb可供使用:</p>
<ol>
  <li>开发者中心(Developer Hub)——扫描我们的公共注册表，寻找开源orb，这些orb是可重用的配置包，可以自动执行重复的过程，加快项目设置。</li>
  <li>orb开发套件-orb开发套件有助于简化工程师创建自己的Orb的整个Orb创作过程。开发人员现在可以从CLI生成一个全功能的orb示例项目。</li>
</ol>

<h3>使用缓存策略</h3>
<p>优化项目构建和工作流的一种简单方法是实现特定的缓存策略，允许重用以前构建和工作流中的现有数据。无论是选择包管理应用程序还是手动改进缓存，缓存都是提高作业速度的最有效方法之一。</p>

<p><em>在我们的<a href="https://circleci.com/docs/optimization-cookbook/#using-caching-to-optimize-builds-and-workflows">文档</a>中了解有关如何优化构建和工作流的更多信息。</em></p>

<h3>实现测试拆分</h3>
<p>最后，开发人员可以通过利用测试分割来加速他们的项目构建。自动测试分割通过将一套测试自动分割到同一工作的多个实例上——或者更确切地说，是一系列并行运行的测试环境上，从而缩短了反馈循环。</p>

<p><em>了解如何根据您的应用需求<a href="https://circleci.com/docs/optimization-cookbook/#test-splitting-to-speed-up-pipelines">在此</a>显著减少您的测试时间。</em></p>

<h2>CI/CD最佳实践3:保护您的管道</h2>
<p>使用符合行业安全标准的CI/CD平台与有意采取措施保护您的管道一样重要。本建议旨在确保您使用我们在CircleCI平台上提供的附加产品安全功能来保护您的管道:</p>


<h3>私人环境</h3>
<p>私有环境变量使开发人员能够安全地存储秘密，即使是他们的公共项目。秘密屏蔽增加了另一层安全性，因为它在作业输出中隐藏了项目和上下文中的环境变量。</p>

<h3>每个工作流有多个上下文</h3>
<p>为了进一步限制访问，每个工作流拥有多个上下文允许开发人员通过让环境变量包含特定域中的值而不是给定的工作流来限制对环境变量的访问。当需要访问工作流中的特定上下文时，这提供了更大的粒度，从而提高了组织的安全性。</p>

<h3>灵活的管理控制</h3>
<p>灵活的管理控件允许您管理跨项目的用户访问。通过在整个组织内标准化CI平台的可访问性和使用，您可以维护应用程序的安全性。保护您的管道与确保您的工作流程快速运行同样重要。</p>

<p>要了解更多有关CircleCI产品特性的信息，请查看我们的<a href="https://circleci.com/blog/security-best-practices-for-ci-cd/">CI/CD安全性终极指南和DevSecOps </a>博文。</p>

<h2>CI/CD最佳实践4:维护整个管道的测试覆盖率</h2>
<p>使用CircleCI，开发人员可以以合作伙伴orb的形式集成一些最好的开发工具。</p>

<p>orb是可重用的配置包，有助于加快项目设置。CircleCI的合作伙伴提供了多个类别的orb，从代码分析到部署，但我们希望找出那些有助于保持整个管道测试覆盖率的orb。</p>

<p>考虑将这些流行的合作伙伴orb集成作为您开发周期的一部分:</p>
<ol>
  <li>Codecov 将您的覆盖报告上传到Codecov，无需处理复杂的配置。快速获得您的应用程序的覆盖率结果，这样您就可以更轻松地呼吸，并满怀信心地提交您的代码。</li>
  <li><a href="https://circleci.com/developer/orbs/orb/cypress-io/cypress"> Cypress </a>在Cypress仪表板上记录结果，并以并行模式进行负载平衡测试。运行端到端浏览器测试，无需花费时间配置CircleCI。</li>
  <li>Sonarcloud 在问题出现之前，检测您的存储库中的错误和漏洞。</li>
  <li><a href="https://circleci.com/developer/orbs/orb/coveralls/coveralls">工作包</a>将您的测试套件的LCOV覆盖数据发布到工作包. io中，用于分析、变更跟踪和通知。在运行拉式请求构建时，将在PR中添加一条注释，详细说明如果合并将如何影响覆盖率。</li>
  <li><a href="https://circleci.com/developer/orbs/orb/snyk/snyk"> Snyk </a>查找、修复并监控您的应用程序依赖项和Docker映像中的已知漏洞。</li>
</ol>

<h2>CI/CD最佳实践5:让这些受欢迎的球进入你的舵手室</h2>
<p>我们想把最好的留到最后:我们最好的圆形球体。包含这些orb是增强您的CI/CD实践策略的一个很好的方法:</p>

<ol>
  <li><a href="https://circleci.com/developer/orbs/orb/circleci/node"> Node </a>轻松安装Node.js及其包管理器(npm，yarn)。最重要的是，安装软件包时默认启用缓存。</li>
  <li><a href="https://circleci.com/developer/orbs/orb/circleci/slack"> Slack </a>跨所有CI/CD渠道实施基于事件的通知。利用内置的消息模板或Slack的可视块工具包构建器，根据您组织的需求创建和定制通知。加速反馈循环，以便更快地修复错误和交付产品。</li>
  <li><a href="https://circleci.com/developer/orbs/orb/circleci/aws-cli"> AWS-CLI </a>安装并配置AWS命令行界面(awscli)。</li>
  <li><a href="https://circleci.com/developer/orbs/orb/circleci/python"> Python </a>为Python编程语言启用常见的CircleCI任务。</li>
  <li>轻松地自动缓存和安装您的Ruby Gems，运行并行Rspec测试，或者直接安装Ruby。</li>
</ol>

<p>阅读我们的<a href="https://circleci.com/resources/2022-state-of-software-delivery/"> 2022年软件交付状态报告</a>，了解我们从全球软件、医疗保健、零售、金融、房地产和媒体等领域的50，000多个组织中收集到的关于构建优秀软件开发团队的最佳实践。</p>


        
          
          
        
      </div>
    </div>    
</body>
</html>