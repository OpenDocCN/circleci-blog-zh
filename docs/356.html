<html>
<head>
<title>How to output JUnit tests through CircleCI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>å¦‚ä½•é€šè¿‡CircleCIè¾“å‡ºJUnitæµ‹è¯•</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://circleci.com/blog/how-to-output-junit-tests-through-circleci-2-0-for-expanded-insights/#2019-02-14T08:24:00-08:00">https://circleci.com/blog/how-to-output-junit-tests-through-circleci-2-0-for-expanded-insights/#2019-02-14T08:24:00-08:00</a></blockquote><div><div class="post-content col-xs-12 col-md-10 col-lg-8">
        
          <p class="italic"><strong>æ¥è‡ªå‡ºç‰ˆå•†çš„è¯´æ˜:</strong>æ‚¨å·²ç»æ‰¾åˆ°äº†æˆ‘ä»¬çš„ä¸€äº›æ—§å†…å®¹ï¼Œè¿™äº›å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶å’Œ/æˆ–ä¸æ­£ç¡®ã€‚å°è¯•åœ¨<a href="https://circleci.com/docs/" target="_blank">æˆ‘ä»¬çš„æ–‡æ¡£</a>æˆ–<a href="https://circleci.com/blog/">åšå®¢</a>ä¸­æœç´¢æœ€æ–°ä¿¡æ¯ã€‚</p>
          <hr/>
        

        <p>CircleCIæä¾›äº†å…³äºæ‚¨çš„å·¥ä½œå’Œæµ‹è¯•æ€§èƒ½çš„æœ‰ç”¨ä¿¡æ¯ã€‚å®ƒå¯ä»¥å‘Šè¯‰ä½ æœ€åä¸€æ¬¡è¿è¡Œçš„æ—¶é—´ã€å¹³å‡å·¥ä½œæ—¶é—´ã€æ’é˜Ÿæ—¶é—´å’ŒæˆåŠŸç‡ï¼Œä»¥åŠä¸€äº›å¸®åŠ©ä½ å¯è§†åŒ–çš„å›¾è¡¨ã€‚</p>



<p>è¿™æ˜¯æ‰€æœ‰é¡¹ç›®ä¸€å¼€å§‹çš„æ ·å­ã€‚</p>

<p><img src="../Images/dd88bc29a554c4bffe7a4f1ab2b3f208.png" alt="" srcset="https://production-cci-com.imgix.net/blog/media/junit1.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w,&#10;https://production-cci-com.imgix.net/blog/media/junit1.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w,&#10;https://production-cci-com.imgix.net/blog/media/junit1.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w,&#10;https://production-cci-com.imgix.net/blog/media/junit1.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://production-cci-com.imgix.net/blog/media/junit1.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://production-cci-com.imgix.net/blog/media/junit1.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://production-cci-com.imgix.net/blog/media/junit1.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://production-cci-com.imgix.net/blog/media/junit1.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://production-cci-com.imgix.net/blog/media/junit1.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://production-cci-com.imgix.net/blog/media/junit1.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w,&#10;https://production-cci-com.imgix.net/blog/media/junit1.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w,&#10;https://production-cci-com.imgix.net/blog/media/junit1.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w,&#10;https://production-cci-com.imgix.net/blog/media/junit1.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w,&#10;https://production-cci-com.imgix.net/blog/media/junit1.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w,&#10;https://production-cci-com.imgix.net/blog/media/junit1.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px,&#10;(min-width: 992px) 779px,&#10;(min-width: 768px) 720px,&#10;(min-width: 480px) 720px,&#10;(min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/junit1.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="https://circleci.com/blog/media/junit1.png"/></p>

<p>æœ‰å¤šå°‘æ¬¡ä½ æƒ³çŸ¥é“:æˆ‘çš„å“ªäº›æµ‹è¯•å¤±è´¥äº†ï¼Ÿæˆ‘çš„å“ªé¡¹æµ‹è¯•æœ€å¤±è´¥ï¼Ÿæˆ‘å¤±è´¥çš„æµ‹è¯•ä¸­å“ªä¸€ä¸ªè¿è¡Œæœ€æ…¢ï¼Ÿ</p>

<p>CircleCIä¹Ÿå¯ä»¥å¸®ä½ ã€‚è®©æˆ‘ä»¬çœ‹çœ‹åœ¨å“ªé‡Œå¯ä»¥æ‰¾åˆ°è¿™äº›ä¿¡æ¯ï¼</p>

<h2>å¤±è´¥å’Œæœ€æ…¢çš„æµ‹è¯•</h2>

<p>Insightsä¸ä»…å¯ä»¥ç»™æˆ‘ä»¬ä¸€ä¸ªæµ‹è¯•å¥—ä»¶å¤±è´¥çš„æ¦‚è¦ï¼Œè¿˜å¯ä»¥é€šè¿‡æµ‹è¯•åç§°ç”šè‡³å¤±è´¥çš„é¢‘ç‡æ¥åˆ†è§£å®ƒã€‚å¦‚æœä½ æœ‰å¤æ€ªçš„æµ‹è¯•æˆ–ä¸€äº›ä¸¥é‡çš„æƒ¯çŠ¯ï¼Œä»–ä»¬ä¼šåœ¨è¿™ä¸ªåˆ—è¡¨ä¸­ç»™ä½ æ£€æŸ¥å’ŒæŒ¤å‹ã€‚ä¸é¢‘ç‡æ•°æ®ç±»ä¼¼ï¼ŒInsightsè¿˜å¯ä»¥ä¸ºæ‚¨æä¾›å¤±è´¥æ—¶å“ªäº›æµ‹è¯•è€—æ—¶æœ€é•¿çš„æ’åã€‚è¿™äº›æ•°æ®æœ‰åŠ©äºæ‚¨è½»æ¾å‘ç°å¯èƒ½ä¼šè¶…æ—¶çš„æµ‹è¯•ã€‚</p>

<p>é‚£ä¹ˆæˆ‘ä»¬åœ¨å“ªé‡Œå¯ä»¥æ‰¾åˆ°è¿™äº›æ•°æ®å‘¢ï¼Ÿå¦‚æœä½ å’Œæˆ‘ä¸€èµ·åœ¨æ´å¯ŸåŠ›é¡µï¼Œä½ å·²ç»åœ¨é‚£é‡Œã€‚æˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯å‘ä¸‹æ»šåŠ¨:</p>

<p><img src="../Images/33d2be6ca789a9110cf1c5999139fd9d.png" alt="" data-original-src="https://circleci.com/blog/media/junit2.gif"/></p>

<p>ä½ å¯èƒ½ä¼šé—®ï¼Œâ€œæ°æ£®ï¼Œæ•°æ®åœ¨å“ªé‡Œï¼Ÿâ€åœ¨æˆ‘ä»¬é‡Šæ”¾æ´å¯ŸåŠ›çš„å…¨éƒ¨æ½œåŠ›ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦åšä¸€ç‚¹å‡†å¤‡ã€‚æ‰€éœ€çš„æ­¥éª¤å–å†³äºæ‚¨çš„è®¾ç½®ï¼Œä½†æ˜¯å¯¹äºæˆ‘ä»¬çš„ç¤ºä¾‹ï¼Œåªéœ€è¦ä¸¤æ­¥ã€‚æˆ‘ä»¬ä¸€èµ·å»çœ‹çœ‹å§ã€‚</p>

<h2>é‡Šæ”¾åŠ›é‡</h2>

<h3>æµ‹è¯•</h3>

<p>å¯¹äºæœ¬æ–‡ï¼Œæˆ‘å†™äº†ä¸€ä¸ªæ¼”ç¤ºé¡¹ç›®ï¼Œåœ¨Cucumberå’ŒRubyçš„RSpecä¸­è¿è¡Œä¸€äº›éå¸¸åŸºæœ¬çš„â€œæµ‹è¯•â€ã€‚æ¯ä¸ªå·¥å…·éƒ½æœ‰ä¸€ç»„ç›¸åŒçš„ä¸‰ä¸ªæµ‹è¯•:</p>

<ul>
  <li>æ€»æ˜¯ä¼ é€’-æ–­è¨€trueä¸ºçœŸã€‚</li>
  <li>é¢‘ç¹ä¼ é€’-ç”Ÿæˆä¸€ä¸ªéšæœºæ•°ï¼Œå¹¶æ–­è¨€å®ƒæ˜¯å¦å°äºé˜ˆå€¼ã€‚ç›®å‰0.95ã€‚</li>
  <li>ä¸å¤ªé¢‘ç¹é€šè¿‡-ä¸ä¹‹å‰çš„æµ‹è¯•ç›¸åŒï¼Œä½†å…¶é˜ˆå€¼è®¾ç½®ä¸º0.85ã€‚</li>
</ul>

<p>è¿™å°†ç»™æˆ‘ä»¬å¸¦æ¥ä¸€äº›é—´æ­‡æ€§çš„æµ‹è¯•å¤±è´¥ï¼Œç»™æˆ‘ä»¬çš„æµ‹è¯•ç»“æœå¸¦æ¥ä¸€äº›å¯å˜æ€§ã€‚å¦‚æœä½ å¾ˆå¥½å¥‡ï¼Œä»¥ä¸‹æ˜¯æ­¥éª¤å®šä¹‰çš„æ ·å­:</p>

<pre><code>Given('this step passes') {}

Given('this step often passes') do
  expect(Random.new.rand(1.0)).to be &lt; 0.95
end

Given('this step less often passes') do
  expect(Random.new.rand(1.0)).to be &lt; 0.85
end
</code></pre>

<h3>æœ±å°¼ç‰¹</h3>

<p>æˆ‘ä»¬éœ€è¦åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯è®©æˆ‘ä»¬çš„æµ‹è¯•å·¥å…·ä»¥JUnit XMLæ ¼å¼è¾“å‡ºã€‚ä»€ä¹ˆæ˜¯JUnit XMLï¼ŸJUnitæœ¬èº«æ˜¯Javaç¼–ç¨‹è¯­è¨€çš„å•å…ƒæµ‹è¯•æ¡†æ¶ï¼Œå®ƒä»¥Apache Ant JUnit XMLæ ¼å¼è¾“å‡ºç»“æœã€‚å¦‚æœæ‚¨ä¸æ˜¯Javaå¼€å‘äººå‘˜ï¼Œè¿™ä¹Ÿå®Œå…¨æ²¡é—®é¢˜ï¼Œå› ä¸ºè·¨è¯­è¨€çš„å·¥å…·å®ç°è‡ªå·±çš„æ ¼å¼åŒ–ç¨‹åºæ˜¯å¾ˆå¸¸è§çš„ï¼Œè¿™äº›æ ¼å¼åŒ–ç¨‹åºéµå¾ª<a href="https://github.com/windyroad/JUnit-Schema/blob/master/JUnit.xsd"> JUnit XML schema </a>ã€‚å¯¹äºæˆ‘ä»¬çš„ä¾‹å­ï¼Œæˆ‘å°†å±•ç¤ºå¦‚ä½•ä¸ºRSpecå’ŒCucumberè¿™æ ·åšï¼Œä½†æ˜¯CircleCIæä¾›äº†ä¸€ä¸ªå…¶ä»–é€šç”¨é€‰é¡¹çš„<a href="https://circleci.com/docs/collect-test-data/">åˆ—è¡¨ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚</a></p>

<p>è¿™é‡Œæœ‰ä¸€ä¸ªç¤ºä¾‹<code>.circleci/config.yml</code>æ–‡ä»¶ï¼Œæˆ‘ä»¬å°†ä¸€èµ·ä¿®æ”¹å®ƒä»¥è·å¾—æ›´å¥½çš„æ´å¯Ÿç»“æœ:</p>

<pre><code class="language-yaml">version: 2.1
executors:
  default:
    docker:
      - image: circleci/ruby:2.5
commands:
  install_gems:
    description: "install dependencies"
    steps:
      - run: bundle check --path=vendor/bundle || bundle install --path=vendor/bundle --jobs=4 --retry=3
  rspec:
    description: "Run RSpec"
    steps:
      - run:
          command: bundle exec rspec
          when: always
  cucumber:
    description: "Run cucumber"
    steps:
      - run: 
          command: bundle exec cucumber
          when: always
jobs:
  test:
    executor: default
    steps:
      - checkout
      - install_gems
      - rspec
      - cucumber
workflows:
  pr:
    jobs:
      - test
</code></pre>

<p>è¿™æ˜¯ä¸€ä¸ª2.1é…ç½®ï¼Œä½†ä¸è¦è®©è¿™å“åˆ°ä½ ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œåšçš„æ˜¯åœ¨è¾ƒä½çš„ç‰ˆæœ¬ä¸­ä¹Ÿå¯ç”¨ã€‚</p>

<p>ç°åœ¨ï¼Œæˆ‘ä»¬å¯¹RSpecå’ŒCucumberçš„å‘½ä»¤éå¸¸ç®€å•:åˆ†åˆ«æ˜¯<code>bundle exec rspec</code>å’Œ<code>bundle exec cucumber</code>ã€‚è¿™å…è®¸å·¥å…·å°†å®ƒä»¬çš„ç»“æœè¾“å‡ºåˆ°stdoutï¼Œè¿™æ ·å®ƒä»¬å°±å¯ä»¥ä½¿ç”¨å®ƒä»¬çš„é»˜è®¤æ ¼å¼ã€‚è¿™å¯¹äºåœ¨æœ¬åœ°è¿è¡Œæ¥è¯´å¾ˆå¥½ï¼Œä½†æ˜¯å½“æ‚¨æƒ³è¦è½»æ¾åœ°çœ‹åˆ°å·¥ä½œæµåœ¨CircleCIä¸Šè¿è¡Œæ—¶å‘ç”Ÿäº†ä»€ä¹ˆæ•…éšœæ—¶ï¼Œè¿™å°±ä¸å¤ªå¥½äº†ã€‚å¯¹äºæˆ‘ä»¬æ€»å…±å…­æ¬¡æµ‹è¯•ï¼Œè¯»å–æ§åˆ¶å°çš„æµ‹è¯•è¾“å‡ºä¸ä¼šå¤ªå·®ï¼Œä½†æ˜¯å¯¹äºè¾ƒå¤§çš„æµ‹è¯•å¥—ä»¶ï¼Œè¿™å¯èƒ½æ˜¯ä¸€é¡¹å›°éš¾çš„ä»»åŠ¡ã€‚</p>

<p>è¿™ä¸¤ä¸ªå·¥å…·éƒ½å…è®¸éå¸¸å®¹æ˜“åœ°ä»¥JUnitæ ¼å¼è¾“å‡ºã€‚</p>

<h3>RSpec</h3>

<ul>
  <li>å°†<code>rspec_junit_formatter</code>å®çŸ³æ·»åŠ åˆ°æ‚¨çš„å®çŸ³æ¡£æ¡ˆä¸­ã€‚</li>
  <li>å°†<code>--format progress --format RspecJunitFormatter -o ~/test-results/rspec/rspec.xml</code>æ·»åŠ åˆ°RSpecå‘½ä»¤ä¸­ã€‚<br/> <strong>æ³¨æ„:</strong>ä¸éœ€è¦åˆå§‹çš„<code>--format progress</code>ï¼Œä½†æ˜¯å¦‚æœä¸ä¿ç•™çš„è¯ï¼ŒRSpecåªä¼šè¾“å‡ºåˆ°rspec.xmlæ–‡ä»¶ï¼Œè€Œä¸æ˜¯stdoutã€‚é»„ç“œä¹Ÿæ˜¯ä¸€æ ·ã€‚</li>
</ul>

<h3>é»„ç“œ</h3>

<ul>
  <li>å°†<code>-f pretty -f junit -o ~/test-results/cucumber/cucumber.xml</code>æ·»åŠ åˆ°æ‚¨çš„é»„ç“œå‘½ä»¤ä¸­ã€‚<ul>
      <li>è™½ç„¶Cucumberä¼šä¸ºæ‚¨è¿è¡Œçš„æ¯ä¸ªç‰¹æ€§æ–‡ä»¶åˆ›å»ºXMLæ–‡ä»¶ï¼Œä½†æ˜¯æˆ‘ä»¬ä»ç„¶å¸Œæœ›åœ¨è·¯å¾„çš„æœ«å°¾æœ‰<code>cucumber.xml</code>ã€‚</li>
    </ul>
  </li>
</ul>

<p>ä¸‹é¢æ˜¯æˆ‘ä»¬æ›´æ–°çš„<code>.circleci/config.yml</code>:</p>

<pre><code class="language-yaml">version: 2.1
executors:
  default:
    docker:
      - image: circleci/ruby:2.5
commands:
  install_gems:
    description: "install dependencies"
    steps:
      - run: bundle check --path=vendor/bundle || bundle install --path=vendor/bundle --jobs=4 --retry=3
  rspec:
    description: "Run RSpec"
    steps:
      - run:
          command: bundle exec rspec --format progress --format RspecJunitFormatter -o ~/test-results/rspec/rspec.xml
          when: always
  cucumber:
    description: "Run cucumber"
    steps:
      - run: 
          command: bundle exec cucumber -f pretty -f junit -o ~/test-results/cucumber/cucumber.xml
          when: always
jobs:
  test:
    executor: default
    steps:
      - checkout
      - install_gems
      - rspec
      - cucumber
workflows:
  pr:
    jobs:
      - test
</code></pre>

<p>ä¸‹é¢æ˜¯æˆ‘ä»¬çš„RSpecæµ‹è¯•çš„XMLè¾“å‡ºç¤ºä¾‹ï¼Œæ˜¾ç¤ºå‰ä¸¤ä¸ªæµ‹è¯•é€šè¿‡ï¼Œç¬¬ä¸‰ä¸ªæµ‹è¯•å¤±è´¥:</p>

<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;testsuite name="rspec" tests="3" skipped="0" failures="1" errors="0" time="0.017001" timestamp="2019-01-24T22:17:57-07:00" hostname="JS-PC"&gt;
&lt;properties&gt;
&lt;property name="seed" value="29522"/&gt;
&lt;/properties&gt;
&lt;testcase classname="spec.demo_1_spec" name="demo 1 with tests for demonstration always passes" file="./spec/demo_1_spec.rb" time="0.001000"&gt;&lt;/testcase&gt;
&lt;testcase classname="spec.demo_2_spec" name="demo 2 with tests for demonstration sometimes passes" file="./spec/demo_2_spec.rb" time="0.001000"&gt;&lt;/testcase&gt;
&lt;testcase classname="spec.demo_3_spec" name="demo 3 with tests for demonstration more often passes" file="./spec/demo_3_spec.rb" time="0.014001"&gt;&lt;failure message="expected: &amp;lt; 0.85
     got:   0.9199158781050316" type="RSpec::Expectations::ExpectationNotMetError"&gt;Failure/Error: expect(r.rand(1.0)).to be &amp;lt; 0.85
  expected: &amp;lt; 0.85
       got:   0.9199158781050316
./spec/demo_3_spec.rb:8:in `block (3 levels) in &amp;lt;top (required)&amp;gt;&amp;apos;&lt;/failure&gt;&lt;/testcase&gt;
&lt;/testsuite&gt;
</code></pre>

<p>å®Œæˆè¿™äº›æ›´æ”¹åï¼Œç¬¬1æ­¥å°±å®Œæˆäº†ï¼ğŸ‰ç»§ç»­ç¬¬äºŒæ­¥ã€‚</p>

<h3>ä½ çš„JUnitæµ‹è¯•æ–‡ä»¶åœ¨å“ªé‡Œï¼Ÿ</h3>

<p>æˆ‘ä»¬å·²ç»è®©æˆ‘ä»¬çš„æµ‹è¯•å·¥å…·ä»¥æ­£ç¡®çš„æ ¼å¼è¾“å‡ºï¼Œä»–ä»¬æ­£åœ¨å°†è¾“å‡ºä¿å­˜åˆ°æˆ‘ä»¬é¡¹ç›®çš„æ–‡ä»¶ä¸­ã€‚ä¸‹ä¸€æ­¥æ˜¯é€šè¿‡å‘Šè¯‰CircleCIåœ¨å“ªé‡Œå¯ä»¥æ‰¾åˆ°å®ƒä»¬æ¥ä½¿ç”¨å®ƒä»¬ã€‚è¿™æ˜¯é€šè¿‡å†…ç½®å‘½ä»¤<code>store_test_results</code>å®Œæˆçš„ã€‚</p>

<p>å‘½ä»¤<code>store_test_results</code>æ¥å—ä¸€ä¸ªè·¯å¾„ï¼Œæ˜¯æˆ‘ä»¬å¯¹CircleCIè¯´ï¼Œâ€œå˜¿ï¼Œè¿™æ˜¯æˆ‘çš„æµ‹è¯•æ•°æ®ã€‚â€æˆ‘ä»¬å¸Œæœ›ç¡®ä¿è¿™ä¸ªè·¯å¾„ä¸æˆ‘ä»¬çš„å‘½ä»¤ä¿å­˜æ–‡ä»¶çš„è·¯å¾„ç›¸åŒã€‚è¿™ä¸ªè·¯å¾„å€¼å¯ä»¥æ˜¯<strong>ç»å¯¹</strong>æˆ–<strong>ç›¸å¯¹</strong>ï¼Œä½†æ˜¯æ³¨æ„ï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯ç›¸å¯¹ä½ç½®ï¼Œå®ƒæ˜¯åŸºäºä½ å½“å‰çš„<strong>å·¥ä½œç›®å½•</strong>ã€‚</p>

<p>ä¸‹é¢æ˜¯åœ¨æˆ‘ä»¬çš„é…ç½®ä¸­å°†<code>store_test_results</code>æ­¥éª¤æ·»åŠ åˆ°å‘½ä»¤ä¸­çš„æ ·å­:</p>

<pre><code class="language-yaml">rspec:
    description: "Run RSpec"
    steps:
      - run:
          command: bundle exec rspec --format progress --format RspecJunitFormatter -o ~/test-results/rspec/rspec.xml
          when: always
      - store_test_results:
          path: ~/test-results/rspec/
  cucumber:
    description: "Run cucumber"
    steps:
      - run: 
          command: bundle exec cucumber -f pretty -f junit -o ~/test-results/cucumber/cucumber.xml
          when: always
      - store_test_results:
          path: ~/test-results/cucumber/
</code></pre>

<h2>å¼ºå°¼ï¼Œç»™ä»–ä»¬çœ‹çœ‹ä»–ä»¬èµ¢äº†ä»€ä¹ˆï¼</h2>

<p>ä¸€è¾†å…¨æ–°çš„æ‘©æ‰˜è½¦-ä¸ï¼ä¸æ˜¯æ–°çš„è¸æ¿è½¦ï¼Œè€Œæ˜¯ä¸€äº›æœ‰ç”¨çš„æ•°æ®ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬äº†è§£æµ‹è¯•å¥—ä»¶çš„è¿›å±•æƒ…å†µã€‚ç°åœ¨è®©æˆ‘ä»¬è¯•ç€å‘ä¸‹æ»šåŠ¨æˆ‘ä»¬çš„è§è§£é¡µé¢:</p>

<p><em>è¯·å‡»é¼“â€¦â€¦</em></p>

<p><img src="../Images/fceaf182545c7a2614157b7022e2f53f.png" alt="" data-original-src="https://circleci.com/blog/media/junit3.gif"/></p>

<p>å¾ˆå¥½ï¼Œæˆ‘ä»¬åšåˆ°äº†ï¼ç»™å®šæµ‹è¯•ç»“æœæ•°æ®ï¼ŒCircleCIå°†è‡ªåŠ¨å¼€å§‹åˆ†æå¹¶ä¸ºæˆ‘ä»¬æ˜¾ç¤ºè¿™äº›æ•°æ®ã€‚å¦‚å‰æ‰€è¿°ï¼ŒInsightså¯ä»¥å‘æˆ‘ä»¬æ˜¾ç¤ºå…³äºæœ€å¤±è´¥çš„æµ‹è¯•ã€å®ƒä»¬çš„å¥—ä»¶ã€å¤±è´¥é¢‘ç‡çš„æ•°æ®ï¼Œä»¥åŠå…³äºæˆ‘ä»¬æœ€æ…¢çš„å¤±è´¥æµ‹è¯•çš„ç±»ä¼¼æ•°æ®ã€‚<strong>æµ‹è¯•å¥—ä»¶</strong>ä¸‹çš„åç§°æ ¹æ®å·¥å…·çš„ä¸åŒè€Œä¸åŒï¼ŒCucumberè¾“å‡ºç‰¹æ€§åç§°ï¼ŒRSpecä½¿ç”¨åŒ…å«Specæ–‡ä»¶æ–‡ä»¶åçš„åç§°ã€‚</p>

<p>è¿™é‡Œæœ‰ä¸€ä¸ªç¨³å®šçš„å›¾åƒï¼Œè¿™æ ·ä½ å¯ä»¥çœ‹åˆ°æ›´å¤š:</p>

<p><img src="../Images/c9d6accf4494f55be21ed0938b06e720.png" alt="" srcset="https://production-cci-com.imgix.net/blog/media/junit4.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w,&#10;https://production-cci-com.imgix.net/blog/media/junit4.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w,&#10;https://production-cci-com.imgix.net/blog/media/junit4.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w,&#10;https://production-cci-com.imgix.net/blog/media/junit4.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://production-cci-com.imgix.net/blog/media/junit4.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://production-cci-com.imgix.net/blog/media/junit4.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://production-cci-com.imgix.net/blog/media/junit4.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://production-cci-com.imgix.net/blog/media/junit4.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://production-cci-com.imgix.net/blog/media/junit4.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://production-cci-com.imgix.net/blog/media/junit4.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w,&#10;https://production-cci-com.imgix.net/blog/media/junit4.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w,&#10;https://production-cci-com.imgix.net/blog/media/junit4.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w,&#10;https://production-cci-com.imgix.net/blog/media/junit4.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w,&#10;https://production-cci-com.imgix.net/blog/media/junit4.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w,&#10;https://production-cci-com.imgix.net/blog/media/junit4.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px,&#10;(min-width: 992px) 779px,&#10;(min-width: 768px) 720px,&#10;(min-width: 480px) 720px,&#10;(min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/junit4.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="https://circleci.com/blog/media/junit4.png"/></p>

<h3>ä½†æ˜¯ç­‰ç­‰ï¼Œè¿˜æœ‰å‘¢ï¼</h3>

<p>Insightsé¡µé¢å¹¶ä¸æ˜¯ä»å­˜å‚¨æµ‹è¯•æ•°æ®ä¸­è·ç›Šçš„å”¯ä¸€é¢†åŸŸã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œjobsä¸­çš„<strong>æµ‹è¯•æ‘˜è¦</strong>é€‰é¡¹å¡åªä¼šæ˜¾ç¤ºä¸€ä¸ªæŒ‰é’®ï¼ŒæŒ‡å‘<code>store_test_results</code>å‘¨å›´çš„æ–‡æ¡£ã€‚</p>

<p><img src="../Images/c022b331461483bb4b15479e50234c9e.png" alt="" srcset="https://production-cci-com.imgix.net/blog/media/junit5.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w,&#10;https://production-cci-com.imgix.net/blog/media/junit5.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w,&#10;https://production-cci-com.imgix.net/blog/media/junit5.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w,&#10;https://production-cci-com.imgix.net/blog/media/junit5.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://production-cci-com.imgix.net/blog/media/junit5.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://production-cci-com.imgix.net/blog/media/junit5.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://production-cci-com.imgix.net/blog/media/junit5.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://production-cci-com.imgix.net/blog/media/junit5.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://production-cci-com.imgix.net/blog/media/junit5.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://production-cci-com.imgix.net/blog/media/junit5.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w,&#10;https://production-cci-com.imgix.net/blog/media/junit5.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w,&#10;https://production-cci-com.imgix.net/blog/media/junit5.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w,&#10;https://production-cci-com.imgix.net/blog/media/junit5.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w,&#10;https://production-cci-com.imgix.net/blog/media/junit5.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w,&#10;https://production-cci-com.imgix.net/blog/media/junit5.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px,&#10;(min-width: 992px) 779px,&#10;(min-width: 768px) 720px,&#10;(min-width: 480px) 720px,&#10;(min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/junit5.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="https://circleci.com/blog/media/junit5.png"/></p>

<p>éšç€è§è¯†çš„æ‰©å¤§ï¼Œæˆ‘ä»¬çš„æ€»ç»“ç°åœ¨ä¹Ÿæ˜¯å¦‚æ­¤ã€‚å¦‚æœæµ‹è¯•åœ¨æ‚¨çš„å·¥ä½œä¸­å¤±è´¥ï¼Œå›´ç»•è¿™äº›å¤±è´¥çš„æ•°æ®å°†åœ¨ä¿¡æ¯æ¡†ä¸­å‘ä¸Šå†’æ³¡ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p>

<p><img src="../Images/7c3b6116905f5b0b5c382e82856f70c1.png" alt="" srcset="https://production-cci-com.imgix.net/blog/media/junit6.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w,&#10;https://production-cci-com.imgix.net/blog/media/junit6.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w,&#10;https://production-cci-com.imgix.net/blog/media/junit6.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w,&#10;https://production-cci-com.imgix.net/blog/media/junit6.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://production-cci-com.imgix.net/blog/media/junit6.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://production-cci-com.imgix.net/blog/media/junit6.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://production-cci-com.imgix.net/blog/media/junit6.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://production-cci-com.imgix.net/blog/media/junit6.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://production-cci-com.imgix.net/blog/media/junit6.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://production-cci-com.imgix.net/blog/media/junit6.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w,&#10;https://production-cci-com.imgix.net/blog/media/junit6.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w,&#10;https://production-cci-com.imgix.net/blog/media/junit6.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w,&#10;https://production-cci-com.imgix.net/blog/media/junit6.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w,&#10;https://production-cci-com.imgix.net/blog/media/junit6.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w,&#10;https://production-cci-com.imgix.net/blog/media/junit6.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px,&#10;(min-width: 992px) 779px,&#10;(min-width: 768px) 720px,&#10;(min-width: 480px) 720px,&#10;(min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/junit6.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="https://circleci.com/blog/media/junit6.png"/></p>

<p>è¿™äº›æ¡†ä¼šå‘Šè¯‰ä½ ä»€ä¹ˆå·¥å…·å’Œç‰¹å®šçš„æµ‹è¯•å¤±è´¥äº†ï¼Œä»¥åŠå…³äºæ–­è¨€çš„ä¸€äº›ä¿¡æ¯ã€‚å¦‚æœä¸€ä¸ªç‰¹å®šçš„å·¥å…·æœ‰å¤šä¸ªæ•…éšœï¼Œä¸ºäº†ä¾¿äºæŸ¥çœ‹ï¼Œå®ƒä»¬å°†è¢«åˆ†ç»„åœ¨åŒä¸€ä¸ªæ¡†ä¸­ã€‚è“è‰²çš„<strong>æŸ¥çœ‹å¤§å¤šæ•°å¤±è´¥çš„æµ‹è¯•</strong>æŒ‰é’®å°†å¸¦æ‚¨ç›´æ¥è¿›å…¥Insightsé¡µé¢ã€‚</p>

<p>å¦‚æœæ‚¨çš„æ‰€æœ‰æµ‹è¯•éƒ½é€šè¿‡äº†ï¼Œæ‚¨è¿˜å°†è·å¾—ä¸€äº›æ±‡æ€»æ•°æ®ï¼ŒåŒ…æ‹¬å…³äºè¿è¡Œäº†å¤šå°‘æµ‹è¯•ä»¥åŠä½¿ç”¨äº†ä»€ä¹ˆå·¥å…·çš„æ³¨é‡Šã€‚</p>

<p><img src="../Images/6cc5c00e1bfe42129d0f22ac5b06f39e.png" alt="" srcset="https://production-cci-com.imgix.net/blog/media/junit7.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w,&#10;https://production-cci-com.imgix.net/blog/media/junit7.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w,&#10;https://production-cci-com.imgix.net/blog/media/junit7.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w,&#10;https://production-cci-com.imgix.net/blog/media/junit7.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://production-cci-com.imgix.net/blog/media/junit7.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://production-cci-com.imgix.net/blog/media/junit7.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://production-cci-com.imgix.net/blog/media/junit7.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w,&#10;https://production-cci-com.imgix.net/blog/media/junit7.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w,&#10;https://production-cci-com.imgix.net/blog/media/junit7.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w,&#10;https://production-cci-com.imgix.net/blog/media/junit7.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w,&#10;https://production-cci-com.imgix.net/blog/media/junit7.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w,&#10;https://production-cci-com.imgix.net/blog/media/junit7.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w,&#10;https://production-cci-com.imgix.net/blog/media/junit7.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w,&#10;https://production-cci-com.imgix.net/blog/media/junit7.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w,&#10;https://production-cci-com.imgix.net/blog/media/junit7.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px,&#10;(min-width: 992px) 779px,&#10;(min-width: 768px) 720px,&#10;(min-width: 480px) 720px,&#10;(min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/junit7.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="https://circleci.com/blog/media/junit7.png"/></p>

<p><strong>æ³¨æ„:</strong>ä¸ºäº†ç¡®ä¿æ‚¨ä¸ä¼šçœ‹åˆ°ç±»ä¼¼â€œæ‚¨çš„ä½œä¸šåœ¨æœªçŸ¥çš„æƒ…å†µä¸‹è¿è¡Œäº†<strong> 6 </strong>æµ‹è¯•â€çš„æ¶ˆæ¯ï¼Œæ‚¨éœ€è¦ç¡®ä¿æ‚¨æ­£åœ¨ä¸ºæ‚¨æ­£åœ¨ä½¿ç”¨çš„æ¯ä¸ªæµ‹è¯•å·¥å…·åˆ›å»ºç›®å½•ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p>

<pre><code>test-results
â”œâ”€â”€ cucumber
â”‚   â””â”€â”€ cucumber.xml
â””â”€â”€ rspec
    â””â”€â”€ rspec.xml
</code></pre>

<p>å¦‚æœä½ æ­£åœ¨éµå¾ªä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘å·²ç»ä¸ºä½ åšå¥½äº†å‡†å¤‡ï¼Œæ‰€ä»¥ä½ ä¸åº”è¯¥å¯¹<code>unknowns</code>çš„å‡ºç°æœ‰ä»»ä½•é—®é¢˜ã€‚</p>

<h2>ä¸¤æ­¥èµ°æ–¹æ³•</h2>

<ol>
  <li>ä»¥JUnitæ ¼å¼è¾“å‡ºæµ‹è¯•ç»“æœ</li>
  <li>ç”¨<code>store_test_results</code>å‘½ä»¤å‘Šè¯‰CircleCIé‚£äº›ç»“æœåœ¨å“ªé‡Œ</li>
</ol>

<p>è¿™ä¸¤ä¸ªç®€å•çš„æ­¥éª¤ä½¿CircleCIèƒ½å¤Ÿä¸ºæˆ‘ä»¬æä¾›ä¸°å¯Œçš„ä¿¡æ¯ï¼Œä»¥åŠå¯¹æˆ‘ä»¬æµ‹è¯•çš„å¥åº·å’Œæ€§èƒ½çš„æ›´æ·±å…¥çš„äº†è§£ã€‚ç°åœ¨ï¼Œæ‚¨å·²ç»æœ‰äº†ä»ç°åœ¨å¼€å§‹å°†æµ‹è¯•ç»“æœå­˜å‚¨åœ¨æ‚¨çš„<code>config.yml</code>æ–‡ä»¶ä¸­çš„å·¥å…·ï¼Œæˆ‘å¼ºçƒˆæ¨èæ‚¨è¿™æ ·åšã€‚</p>


        
          
          
            <hr/>
            <p>Gemini Smithæ˜¯ä¸€åä¸æ–­å­¦ä¹ çš„è½¯ä»¶å·¥ç¨‹å¸ˆï¼Œå¯¹æµ‹è¯•ã€äº¤æµå’Œæ”¹è¿›è½¯ä»¶å¼€å‘ç”Ÿå‘½å‘¨æœŸå……æ»¡çƒ­æƒ…ã€‚ä¸»è¦ç”¨Goå†™ä½œï¼Œå¥¹è¿˜é€šè¿‡å…¬å¼€æ¼”è®²ã€å®£ä¼ ã€å’¨è¯¢å’ŒæŒ‡å¯¼å¯¹è½¯ä»¶å’Œæµ‹è¯•ç¤¾åŒºåšå‡ºè´¡çŒ®ã€‚</p>

            <p><a href="/blog/author/gemini-smith/" class="arrow-link">é˜…è¯»æ›´å¤šGemini Smithçš„æ–‡ç« </a></p>
          
        
      </div>
    </div>    
</body>
</html>